/**
收藏大师-幸运抽奖

必须条件：配置文件或者环境变量中添加变量：
//export jd_lottery_activityUrl="活动链接"


cron:1 1 1 1 *
============Quantumultx===============
[task_local]
#收藏大师-幸运抽奖
1 1 1 1 * jd_txzj_lottery.js, tag=收藏大师-幸运抽奖, enabled=true
*/

const $ = new Env("收藏大师-幸运抽奖");
var OＯ0$='jsjiami.com.v6',OＯ0$_=['‮OＯ0$'],O00O=[OＯ0$,'JcOEwoA=','S3PCoQ==','wrrDgzQ=','w79Rwo4=','6YGD5Ymj5Ly+5ZOg','5bS66aCM5Y+l','5p2T5b2k5ae1','U8O+w6LDssOUfg==','wrTDo8OFw5Z/woA=','Z3bCicOSw79t','B8OSKWPCgDw=','wpPDiMKdwp3Dv8K9','dMOTPMKawqPCq8Otw4vCsQ==','wpvCksKp','FwVTew==','HmYew6nCkVI=','JsOxbXzCkxRMwpUP','wpfCrMO6Agk=','5rWZ5YqY5bSj57my5p6k5oqv6IK/5pym5b265aWz','wqrDvcOFwrd/','wq/DsFrCm8KhD3bDp07Diz9pQHdHGsKj','Ag1iKMKbw5pne20xbMO1O3tKdHYKIg==','f2fCjcOWwqd/wpEEFTg=','w4zDhMOrw6PDu8Kw','VcOkw7/Dm2nDgA==','wrTDvcObw4gAwp4=','Y8KvG8KGwqlr','w5TCtMOhR8ODwoQ=','wo58ABHDpBU=','VcOkwp7CpGnCoQ==','YFrCocOcAFo=','dRTCrsKEw7vDtA==','E8OMwocAc8Ksfzg6GlVbwrJ1T8Om','w6rCtcOVwqPCoMKww40=','THbDo8Ocw6vCkMKtVW7Ci8O8woYlwqRawopiwrlhNx7CtsOuwojCmMOmw47DvhYYwr5TMTtBw6lTB8KLdsK9w6LDrk09esOgQXZLw6lIw6DDp8OIZsKYw6ltw7krOsO4bDbDssKOw7zDr8KtIBMXBl4WwopBw4HDujFpdDwgw57DqUjCocOELcKPdMKoOcKZERXCvDYLw4/DsC3Dt2jCj3wzdsOySsOnZ8Ktw5BhQMKDG8K6w6c1w7DDnsOnwoLCmWvCicKRWVoPw4U=','w5jDusK7wr/CpcKo','wpPDlsKDw7zCnsOC','NlQOLmvDug==','wqZ6RT7DhcKH','Vm7DpQ==','bcOvwqc7SMKY','RU3DmMO3wrou','R8Oaw4HDv1HClcKYwrzCmQ==','TcOgw7zDssK1','H0HCosOYw54=','w7DDncKq','HsOn5aSp6LeNeULljo/lmblMw6s=','w6ocwqDCk3gA','M3/CnsOuwrQ=','wpnDmwPCpMOcYA==','wonDk8KFAnbCsA==','GMOkwqjDh8OaTA==','w5FDwr7Cvl0=','HwA7D8K0woJ8','M2HCgMOuwrTDtg==','w4UTJA==','w7FNwoYiYUU=','YsOcw4LDoF3Cgg==','M8OHw7XCnWc3','w7bCj8Kjf8OiwqxLw4gX','bcOxw5g7VsKY','PzdDw4M=','TcKfw6LDssOUfg==','LcOZw7XCgwY=','FQQ7CMK9','cMO+wp4yDA==','wrvDjSfDusKS','w6dCBTFAw7Y=','w4fCusKSw70=','LQDCgMOuwrTDqA==','CMKGPkDCtw==','NlRvURTChQ==','6K2q5aO+5YSj5raX5Ymj6ZG+5o+O','c8O8BVgbwo4=','R3DCthzCuhUmwo3Crj1Ew4AlLMKPSWpSw5rCgFpVwoHCq8KVWsOvw5fDhjoqQcO9wrkMesKww41Yw6lIPiVzwqdn','GBROck3CqcKJJ8ORBh/DlWQIe8KdY1XDmDTCmi52aMOrwpbCqgBwdMK0O3JMS8KKwpzCpcOnw6UWwq5bw59NwqZcw68=','PsKXWgPDrMKc','w4gvE8K2dzQ=','w6MWb8OFdkk4e8K2wovDszLDsi1ILGcXwr4=','SMKXAcK8woLCnQ==','LcOEworDqcOiEg==','QcKVN8OVw7xJw60=','wpbDicO+wqoswqBYPDrDrw==','bcOxwqclSA==','wo58f27DpA==','c8KQw5hESMKY','OsOsHxbDggE=','KDVvLnXChQ==','OsKNAXfCvX4=','w7bCi8K9f8O4','I3vCj8OkwppN','wp7Ck8KqwqJcSsKJ','wrXCk8OZJDI=','wr/CtMOYwrvCscKs','w5DCpcKQw7HDnQ==','w7XCmsKjZcOp','UcKofMKN','EcOiwqTCpiIL','w4UHw4nDvcKUw48=','w7lYB2rCgsOZbgbCmXgewqB7w648JkjDosK1woEdwo/CnSHDvsK9JD7Ck8KuwrrCgsOiS8O7MsOcC1wcw5wUJcKFwqvCkMOOwoApPcKmwpjCmjTDh8KUIMKtwrLDscOWZcOFbsKxw5bDvXkcG8OmASgtHzkdUwYnwpDCr8Kjw6PDlRxbw5pKesKzwrHDpsOcworCrMODIsOAw4jCrUDDqmTCuC3DpMK1wqZhw51wZXfDpjPDsMOtasKMR1fCsMKyw47DlD3CkMKYwpAOw6BvBXMgwpjCjcKFwqRdw7Msw4vDqsO8wqnDmybCjwhZWRNlwqbCkSNMwpUbQ8KxEjBON8OIFRTDlMO2wq4fw5zCt8OUwrsWfBzDhFHCrsK+GMK6wrt9wrdZw77Dq8KRw5jDnATDl8K9wp/CvzLDr8OaK8O2ZzwhwpVvw4DDqsOiwrI+w5/DpsOtfcKZTMOVe3HDrQ==','w5LCpcOrw73ChMKw','wq5wRjjDmMKB','AV/DncOYw54P','wrXDhDLDq8K7w7g=','wrfDs8OzLHIf','w7URJQ==','5Lul5Lq35p+q5Yip5Zuj6L6o5Zi95pWV5o2S5Lu456mQ','VcKFw6HDhXfCvw==','w75Nwo4=','wqXDmCHDsMKUw6s=','w7LChMKtw5fCmQ==','M8Kmw7XCnWc=','w6zDpcOMw4nDuEY=','GMOkwqjDmcOaTA==','w4hOE8OJdw==','NlQOTxTCmw==','wonDk8KFfRfDkQ==','wpXDjcO4w7Qq','w6HClMK/cw==','b8Ocw5Q=','YETDnsOcf0Q=','NmLCgsO4wpw=','dcOcwo8awq/DtcKxw7U=','wo5if27Cmw==','Y8KvG8Onw5Zr','TMKPMQzChcKQJMKFwprDlcOxw7XCmA==','wqHCoMOOwqvCrQ==','wofDvQLDiMK1wrw=','w4gxDcK2d1U=','worCosKteEw9','wqZnSSjDgsKcOA==','w67DrsKnHRJ1','AsOOAEnClis=','woZdJxt/w4PDiMK7UQsqTw==','bcOGw6DDu1zClQ==','CC/CoAXCvRUzwpDCqDwFwoQ9OMKFUxIdw4XCgEw=','W8KTGsOZw71f','w5dzwrc=','w7MaHcOqVxE2dsOpwrrDjT3DomJQZz5Nw74Swrtb','w7lDw7TDm8OKwpjCo8KDTw==','Q27CsA==','wqHDpFfCjsO1YHQ=','w687ADZEw6U=','wqfDv8K7w5k=','w6Fzw7fDvSYGwoA=','GcOnLsOLw5d/wpYT','BFHCvcOSwp4=','PTlJ','N2vCmcOzwo9Lw5k=','QcOAw5zDlsOsVEnDtQ==','AsO7dnPCmwVn','VcKFIMOSw7hOw78=','w6gKS8OTHSfCssODw6c=','wqPDgjfDvMKcw6UDYsOI','w5Zywqx8wo3Cjw==','w7HDk8K5wpXCvg==','w7EKNsO2S19tPA==','HQtTf03CpA==','44Gy5o2G56e/44OD6K6g5YSw6Iy55Yyg5LmZ5Lid6Lea5Y6T5LmEwq/Cm8K5GnkMw73nmqfmjojkvJPnl7zCo23CgzrCiMOw55ub5Lis5Lm7562n5Yi66I225Y2W','ERBKblfDsMOHfMOaDBDClDJIIsKAcFbDnTTChWw=','wrfDjjDDvcKfw6pdNsKeQDTCpTzDogbDmw==','wo1EeRA=','5rWC5YuMV3rkuKnlrpLln4A=','4puN4pqQ5raw5YmG5YaP5YyE4pmb4piFPw==','DuW+teWlpeOChOS6lOS7rOi3jeWMgQ==','w7LChMKzw5c=','IMOoJQM=','44GN5o2S56eJ44GQw6rCpcKDwrcTO+W2l+WnoeaXow==','w67Cj8OGHQ==','w7TCpcOkwoXCg8KC5bez5aWu5pW9wqM1wqU=','w4jor6Lph6Xml6/nm5flvrzoj6Lljr7Cn2MGwqRgw6A=','w4gsw4rCiAg=','wrvDnzQ=','w43CtMKRw70=','wqXDuVQ=','w6Q0a8O3JQ==','worDg8OSB0w=','wqTDpVQ=','bcKDBUYF','D0PCtg==','w51zwqYGWQ==','w5sHwrbDvcO1','XsKFOsORw61S','Z8KTMcOEw5dbw7Mv','w4hOE8K2CA==','w7rCq8O/wo3Cgg==','PW/CmcO0woY=','EApae1w=','w4rDi8KeJsOd','aMOaw4k=','wpfCrMO6fRc=','wpnDhXzDm8OC','M8OHwpTCnRg=','NMOswpckw7E=','DMOtTnjCnRho','FsKGQSHCqQ==','fkTCocKjfw==','C8O/b3I=','fcKIScK5aA==','wpTDncOSeFI=','w5PDvcKcw4bDpg==','w7TDu8Oew4nCsw==','w7cXIcOtdgQvdg==','LRYqGcKbwpdwdg==','w6p9wr7Ck2Y=','w67Cj8OGHRI=','T8OFwoYQScKmeShzCw==','w7xDwoQs','w51zw5l5Rw==','wpBiYW7Cmw==','H0HCvMKnw54=','w4VmwrbDo8O1','W8KOMMOTw6E=','Z8K0fcKaFgN9w7w=','KVV/W8Ol','fcKWV8KnFw==','UMOFwoYTc8Kh','w4bDusK7wqHCuw==','wqrCrcOVwqfCtw==','aSPCq8Onwos=','wpnCugPCusK9','DwQmHw==','GcOGGRfDjcKp','wpTCnMK6wqRM','w4QdMw==','w5vDneWnv+i3ogUl5Y2w5ZuaI18=','fAnCu8Ky','wrbDqMK5w4jCoQ==','wpMlGA7Dow==','FsKYPj/CqQ==','CcOxZQ==','M2HCgMKRw4s=','w7o0dcKIRA==','w43Do8KcwqfDpg==','w7EfMcODVgE=','PMOhwocow7/Co8KYwqU/MAE=','HMOcJ1I=','LcOZwobDv8OlCcKO','w4lDwpY=','5LiI5aau5rGz5p6k5omy5aeb5p+B5Ly75Lmo77yw5pmZ5aeb5YaX5pyb5ZKCwq4=','VXnDsMKbXn7Dpg==','w5jCm8Oaw57Cuw==','w4hTw5TDtxY=','w5bCv8KfOA==','a8OIKcK2wr/Cvg==','w6zChMKtwqjDuA==','W1PDmMKWwro=','bsOAw5Q=','w4rCqsKAR8Od','wofDm2LCusOc','w6Q0dcKIOw==','44CWwofmnaTogI7ojbrljJrmtr/liIXkvKnmg6E=','D8O6Y2fCikpvwoFVw54xwo17QcKJTE57alfDkMKtwrjCjsKt','KVUeW8KE','A17CtMKdw6rDiMOiVmfDk8OqwpknwqMcwp5qwqthYzHDncOfwqTDg8Kww4/CugoQwr5QORtZw6pUAcObMMO4wrzCuwMhc8O+H3QFwrACw7bDv8KQMsOAwr8/w6N7dcKiMXvDq8KTw5/DvcKhYwBdVRgNw5sawpPCpj4iRjk+w4nCqhDDusKqd8KMIsOVeMOFWFvDvH0qw4nDqSXDr23CgT0pK8KrDcKha8KZwpVrVsKFSMO7w4oCw4DDhcO4w6/CkzfDnMKFRCVyw5zDpsOqQcObL8KaNMKaw5kNWMKwUFsMw59uLjXDicKnwrJWYcK3wqg8wojDhcKCw6XDuC7CjDpwwrzCjsKxXcKfw4ksw7LCt8KxO8OWcsKAZU7DkTzDp10rw7HCpWVMcMO1wrXCqFETLHErSlYOw49gd8Oia8OWw7wAMcKZw6VsSsKrW8Oewpce','6I2A5YyrwpXCs0tuwopUROWljui2iO+9qQ==','QlzCvsOVwo/DnMOIdQDCmEfCn8OH6K+05rCY5aW46Lec772L6K6N5qGw5p6j57y76LWa6YWf6K+c','w5DCoMKfw7vDjGTDtg==','w43DvcKcw4Y=','LWHCgMKR','TcKfw6LCjcOU','fcO3KMK5aA==','fcOQG8O5','wo3Ct8KDwp3Cng==','S8KFw7/Dmw==','wpNaeQ7CnA==','M8OZwpTDomc=','GMO6w5fCuMOa','VsO2fsKiwpw=','fcO3V8K5','fcKWKMK5aA==','w7Nzw67DnSlY','w7Nzw67DnSk=','VwM9BMK7woIyeSQmfsOvJzJeFjNXfkRwHcO2fUs=','Y8KIKMKnaA==','NMOPU0bCqw==','AV/DncKnw54=','FsKYX0DCtw==','TMOBwpoHYg==','w6ZYw6E=','w4YWQw==','w7cfL8Oj','6K6G5YmY6Zul5oWd5Z6Lwo9hw5TDuMKA6Lye5Ya05qO35L+55pa75YSi5a2Hwpflu5TorKnpgpfovqHohZvmnKHljaDojq3ljZlhw7Uiw5fCkcKT','PGHCig==','NMKuMifCtQ==','w6FWwpsgZkfDmMKmXA==','w5YxE8OJCA==','w6vCmsK8cw==','w5ZTw5TDtxY=','w4VmwrbDvcOr','w50SwrgG','dMOXIsKawrk=','UcOGKGQgwrM=','S2PDt8OBwrA=','bcObw4rDsUDCv8KN','w7lHw6rDm8OQ','w7bCjsKzZcO4wrk=','w5YswrXCiAg=','wqvDqcK2w4jCt8OCwp0=','ITdcw5XCpQ==','IMO2OwPDsg==','w6Rzw6HDnQ==','wofDm2LDm8K9','w7o0dcOpJQ==','BsO6wrbDmcK7','WsKBJ8Ozw7de','VsKodsKN','w43Do8O9wqfDpg==','w5TDi8KeWcOD','w6ocw4HDrHg=','w6ZYw6HDt8OWwo0=','wpnDm2LCusOc','UsKvw5phNQ==','NMKuMkY=','TsOcLQ==','Y8OQZMKGw5Y=','woTCicK8wq5KYsKGXGA=','NMOPUyfCqw==','NlRxURQ=','w5TCtMKeWQ==','woHCqsKXPzZlRwnDkSxrB8O1XsKAw4bCu21HMcOvAeiuoeaxk+Wnrei3je+/geivrOahsOadt+e9gOi0pemEgeivvA==','wrHDssKxw47CqsO+wog=','5bWg5a6u5ou5','SCrCmMKQ','w7LChMOMw4k=','w4hNw4rDtw==','w6pjwr7CjQc=','w4hNw4rDqQ==','worDncOSeC0=','AAdhw6nCjw==','wpnCunzCusOc','NlRvUWs=','LQDCgMOuwqo=','wpnCnBzCqQ==','wp3CjsKKwpnClA==','d0/CiT/Dow==','SDTDucOxw5g=','UsOaLio=','w4JywrJp','wrTCnMOFwrd/','JMOsAXc=','Hz7CvMKnwqE=','w5tmw4nCgg==','HmYew6nCjw==','K8KmaQ==','OsOfwpXDocOlG8KKQ0U=','wqrCjMOS','wo3Ct8KDwp3Dvw==','w4UEScOd','wp3DscO1wpnCig==','w6zDk8K/woXCsw==','w4gsw5TCiAg=','W3zDv8ON','w5sHw4nCgsOr','NisOUQ==','aU/Clz8=','w5ZvwqBqworClMOT','w7HDusOdw6nCucOy','SDTDucOxwrk=','WGXDssKARW/DrsOD','w7lDw6fDhsORwow=','FsKYQT/CqQ==','w7k9BS9e','w6Qqa8OpOw==','w50SwqZ5','HcOIDQ==','5Lix5LqJ5p635YiN5Zqj6L2U5Zq15pax5o6O5Lq056qN','5rae5YqE5bSD57iP5p2o5omH6IKO5p605b2r5aaY','JMOZw4HDoEzClcKZwo/CgsObwr/Cs8Kow5MOLMO2C8KJw5Yow7zorbnmsYHlp7XotKjvvbror5Tmo5jmnZTnvZvotKvphKXorJI=','w4bDusK7wqE=','w5PCgsKcwrnDpg==','w5gQR8ObETHCsg==','w5FywrRtwovCjw==','HPC3k54=','wqt7XDrDi8KbNAQ=','w4wKS8OcBw==','woPCjsOrw7g=','N3TChMOnw4Ifw5zDiBDDqcOMPcOxwp11w5oy','wpzCmMKrwrcJZMKDU28a','KMObwpfDpMOiH8KCUVXCrUTCqcKbAcOPZcOrZCUWw61zw4R9w5B2AMOnG8KZw5rDsMKYw7XDnxs+VSbDhsO8GXXCuEscVRI=','TMOQwqUeNQ==','wrLDucOVw5jCv8OlGcK4w4/DosKYw67CnEXDoxUPwp8+w6zCp2fDtMK2UcKn','wofDoxzCqcK1w50=','PsKXO2LDssKc','S8KFw7/CpAjCoQ==','SMKXH8K8woLDvA==','w6NMwpBSwrXCrg==','WzLCucOpwrou','QsKoa8Kc','wo3Ct8KDw6LCnsK9','w5ZTw4rCiHcq','ABlhwpbCkUw=','AsOfJWMgwqTDiMOpwqg+w5zDsALCqmslw5XCnsKzw7VpMuivveaxi+Wmpui3sO+8meitheaitOadiue9gui1kemFhOitlQ==','w4bChcOEwqHCpcOX','w6zCmsKzw4k=','CMO5Pj/Ct8OI','wprCnMK6wqRM','w6dWw7LDkcOM','eWPCnMOFw6I=','wpbCnsK6wq5SbMKbQ1wRw4k=','UcOBwpwXbw==','FQtZ','wrXCl8OHJCjChsOgN8OE','VHzDvA==','w4zDmsO1wpzCmsOR','w4zDmsO1wpzCmsOP','RU3Cp8Opw4Uu','FsKYXz/DiMOW','KDVvUXXCmw==','P8OMFg==','w6zChMKzw4nDuA==','DFHCvMOE','TcO+w7zCjcOK','wrLDpsKgw57Cqg==','w7k9GzFewpc=','wqHDqMK2w4g=','Y8KWScKnaC0=','ecO+wp4w','w5HCrMKfNjhlXQ/DmDM=','IMOoJWI=','ABlhwpY=','fcKWV8K5Fw==','Y8OQBcO5wqk=','w7/Ck8O8VcOCw6dYw4ZDw4IEw6ZVwo1/YQYqw6g=','wrjDjcO+wogU','w5sXTcOCER3CqMOnw4Vp','M8KwfhU=','EsKyw4MOw5jDug==','wonDg8Ot','8KGWtO+5gEvkv43mgJbljao=','wqfCgMOBJDDCiMO9KMO4WsK4','OsOyAXfCox8=','Dl/Ctg==','DMONwrwQwrnCmw==','CMO5XyHCqcOW','8YyNiMKa','w6N9w7HDmQ==','QsK1ccKSPT15w7cQwqQ=','bcOtwoMrAVkeFMKEVsK6','BsKbwrbDmcK7Mw==','w6zDpcKtw4nCmUY=','8Y6tqsKV56ai5YmA','QsKSPcOMw7xlw6ojwo/DklU=','w4FNwoXCvQ==','UMOPwo8=','8Kici8OT5a+f54ug','w4XCv8KCLQ==','w63Dp8OTw5bCrsOfAsKvwobDoQ==','wrXDoMO0MngtwrfCg0NA','jJsYjCiGxawRCmif.AGcom.Cv6rl=='];if(function(_0x22b500,_0x3038c9,_0x5be58e){function _0x21691f(_0x146689,_0x2e8fcf,_0x23b32e,_0x35a4b6,_0x248318,_0xecb24c){_0x2e8fcf=_0x2e8fcf>>0x8,_0x248318='po';var _0x2fdbde='shift',_0x23773c='push',_0xecb24c='‮';if(_0x2e8fcf<_0x146689){while(--_0x146689){_0x35a4b6=_0x22b500[_0x2fdbde]();if(_0x2e8fcf===_0x146689&&_0xecb24c==='‮'&&_0xecb24c['length']===0x1){_0x2e8fcf=_0x35a4b6,_0x23b32e=_0x22b500[_0x248318+'p']();}else if(_0x2e8fcf&&_0x23b32e['replace'](/[JYCGxwRCfAGCrl=]/g,'')===_0x2e8fcf){_0x22b500[_0x23773c](_0x35a4b6);}}_0x22b500[_0x23773c](_0x22b500[_0x2fdbde]());}return 0x108f74;};return _0x21691f(++_0x3038c9,_0x5be58e)>>_0x3038c9^_0x5be58e;}(O00O,0x84,0x8400),O00O){OＯ0$_=O00O['length']^0x84;};function O0QQ(_0x354206,_0x46678b){_0x354206=~~'0x'['concat'](_0x354206['slice'](0x1));var _0x16f337=O00O[_0x354206];if(O0QQ['QQ0QOO']===undefined){(function(){var _0x402e6b=typeof window!=='undefined'?window:typeof process==='object'&&typeof require==='function'&&typeof global==='object'?global:this;var _0x4c9637='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x402e6b['atob']||(_0x402e6b['atob']=function(_0x258431){var _0x569b50=String(_0x258431)['replace'](/=+$/,'');for(var _0x3064ad=0x0,_0x2d65aa,_0x275eac,_0x5a42c8=0x0,_0x4a926c='';_0x275eac=_0x569b50['charAt'](_0x5a42c8++);~_0x275eac&&(_0x2d65aa=_0x3064ad%0x4?_0x2d65aa*0x40+_0x275eac:_0x275eac,_0x3064ad++%0x4)?_0x4a926c+=String['fromCharCode'](0xff&_0x2d65aa>>(-0x2*_0x3064ad&0x6)):0x0){_0x275eac=_0x4c9637['indexOf'](_0x275eac);}return _0x4a926c;});}());function _0x20ed32(_0x162dff,_0x46678b){var _0x21797a=[],_0x577473=0x0,_0x3c0b07,_0x31d4f7='',_0x1f74ad='';_0x162dff=atob(_0x162dff);for(var _0x132877=0x0,_0x25d4cf=_0x162dff['length'];_0x132877<_0x25d4cf;_0x132877++){_0x1f74ad+='%'+('00'+_0x162dff['charCodeAt'](_0x132877)['toString'](0x10))['slice'](-0x2);}_0x162dff=decodeURIComponent(_0x1f74ad);for(var _0x49d3c0=0x0;_0x49d3c0<0x100;_0x49d3c0++){_0x21797a[_0x49d3c0]=_0x49d3c0;}for(_0x49d3c0=0x0;_0x49d3c0<0x100;_0x49d3c0++){_0x577473=(_0x577473+_0x21797a[_0x49d3c0]+_0x46678b['charCodeAt'](_0x49d3c0%_0x46678b['length']))%0x100;_0x3c0b07=_0x21797a[_0x49d3c0];_0x21797a[_0x49d3c0]=_0x21797a[_0x577473];_0x21797a[_0x577473]=_0x3c0b07;}_0x49d3c0=0x0;_0x577473=0x0;for(var _0x145af7=0x0;_0x145af7<_0x162dff['length'];_0x145af7++){_0x49d3c0=(_0x49d3c0+0x1)%0x100;_0x577473=(_0x577473+_0x21797a[_0x49d3c0])%0x100;_0x3c0b07=_0x21797a[_0x49d3c0];_0x21797a[_0x49d3c0]=_0x21797a[_0x577473];_0x21797a[_0x577473]=_0x3c0b07;_0x31d4f7+=String['fromCharCode'](_0x162dff['charCodeAt'](_0x145af7)^_0x21797a[(_0x21797a[_0x49d3c0]+_0x21797a[_0x577473])%0x100]);}return _0x31d4f7;}O0QQ['QQ00O0']=_0x20ed32;O0QQ['QQ0QOQ']={};O0QQ['QQ0QOO']=!![];}var _0x17f87d=O0QQ['QQ0QOQ'][_0x354206];if(_0x17f87d===undefined){if(O0QQ['OQOQQ0']===undefined){O0QQ['OQOQQ0']=!![];}_0x16f337=O0QQ['QQ00O0'](_0x16f337,_0x46678b);O0QQ['QQ0QOQ'][_0x354206]=_0x16f337;}else{_0x16f337=_0x17f87d;}return _0x16f337;};const notify=$[O0QQ('‫0','qtcQ')]()?require(O0QQ('‫1','[ER&')):'';const jdCookieNode=$[O0QQ('‫2','iXqJ')]()?require('./jdCookie.js'):'';const getToken=require(O0QQ('‮3','8m06'));let lz_cookie={};let activityCookie='';let inviterNick='';$['activityEnd']=![];let canHelp=![];let cookiesArr=[],cookie='',message='',messageTitle='';if($[O0QQ('‫4','ioR^')]()){if(process[O0QQ('‮5','$[y(')]['jd_lottery_activityUrl'])activityUrl=process['env'][O0QQ('‮6','BsBy')];if(JSON[O0QQ('‮7','P]Bc')](process[O0QQ('‫8','8m06')])[O0QQ('‫9','!PG7')](O0QQ('‮a','[ER&'))>-0x1)process[O0QQ('‮b','Uh!j')](0x0);Object['keys'](jdCookieNode)[O0QQ('‮c','gA)2')](O0OO0O=>{cookiesArr['push'](jdCookieNode[O0OO0O]);});if(process['env'][O0QQ('‫d','QQxd')]&&process[O0QQ('‫8','8m06')]['JD_DEBUG']===O0QQ('‫e','EQU^'))console[O0QQ('‮f','(oB7')]=()=>{};}else{cookiesArr=[$[O0QQ('‫10','fcqy')](O0QQ('‮11','9rD%')),$[O0QQ('‫12','KPi!')]('CookieJD2'),...$['toObj']($[O0QQ('‫13','ioR^')](O0QQ('‫14','[BMv'))||'[]')['map'](O0Q0O0=>O0Q0O0['cookie'])]['filter'](O0OOQQ=>!!O0OOQQ);}let isGetCookie=typeof $request!==O0QQ('‫15','UPC2');if(isGetCookie){GetCookie();$['done']();}if(activityUrl){activityId=getQueryString(''+activityUrl,'a');$[O0QQ('‫16','$[y(')]=activityUrl[O0QQ('‫17','og1t')](/https?:\/\/([^\/]+)/)[0x1];}else{console['log']('请填写活动链接');}let domains=O0QQ('‫18','BsBy')+$[O0QQ('‫19','bC@f')];!(async()=>{var QQ0QQO={'OOQQQ':O0QQ('‮1a',')MRn'),'OQOOQ':O0QQ('‮1b','bC@f'),'OQOOO':O0QQ('‫1c','UPC2'),'Q00OQ':function(O0QQOQ,O0OO0Q){return O0QQOQ<O0OO0Q;},'Q00OO':function(QQ00Q0,Q0O0OO){return QQ00Q0*Q0O0OO;},'O0O0O':O0QQ('‫1d','Mc4R'),'Q0QQ0':O0QQ('‫1e','bC@f'),'O0OQQ':O0QQ('‮1f','Yd5U'),'Q0Q00':function(Q0OQQ0,Q0O0OQ){return Q0OQQ0(Q0O0OQ);},'O0O0Q':function(Q0OQ00,QQ0000){return Q0OQ00+QQ0000;},'QQQOQ':function(QQ0QQQ,QQ0Q0O){return QQ0QQQ+QQ0Q0O;},'QOO0Q':function(O0QQQO,O0Q0Q0){return O0QQQO+O0Q0Q0;},'QOO0O':function(QQ0Q0Q,O000QQ){return QQ0Q0Q+O000QQ;},'QQQOO':O0QQ('‮20','iXqJ'),'QOOQQ':function(O0000O,O0000Q){return O0000O!==O0000Q;},'QQ0O0':O0QQ('‫21','RaB]'),'OO0OO':O0QQ('‮22','BZj#'),'OOQQ0':O0QQ('‮23','WWu&'),'OO0OQ':function(O00OO0,QQQQQ0){return O00OO0+QQQQQ0;},'OOQ00':function(QQQ0OO,QQOO0Q){return QQQ0OO+QQOO0Q;},'OQ0QQ':'京东账号','OQ00Q':'\x0a请重新登录获取\x0ahttps://bean.m.jd.com/','OQOO0':function(QQOOQQ,QQQ0O0){return QQOOQQ!==QQQ0O0;},'OQ0QO':O0QQ('‫24','D2Ew'),'OQ00O':O0QQ('‮25','Yd5U'),'QOOQO':function(QQQQOO,QQQQOQ){return QQQQOO+QQQQOQ;},'Q0000':O0QQ('‫26','Mc4R'),'Q00Q0':function(QOOQO0){return QOOQO0();}};if(!activityId){if(QQ0QQO[O0QQ('‮27','gA)2')]===QQ0QQO['O0O0O']){$[O0QQ('‫28','UPC2')]($[O0QQ('‫29','RaB]')],'',QQ0QQO['Q0QQ0']);$['done']();return;}else{$[O0QQ('‫2a','!PG7')]($['name'],QQ0QQO['OOQQQ'],QQ0QQO[O0QQ('‫2b','[BMv')],{'open-url':QQ0QQO[O0QQ('‫2c','rWEU')]});return;}}console[O0QQ('‫2d','!PG7')](QQ0QQO[O0QQ('‫2e','R*NE')]+activityUrl);if(!cookiesArr[0x0]){$[O0QQ('‮2f','EQU^')]($['name'],QQ0QQO['OOQQQ'],'https://bean.m.jd.com/',{'open-url':QQ0QQO[O0QQ('‮30','KZ8m')]});return;}for(let O0QQ00=0x0;QQ0QQO[O0QQ('‫31','P]Bc')](O0QQ00,cookiesArr[O0QQ('‮32','ioR^')]);O0QQ00++){if(cookiesArr[O0QQ00]){cookie=cookiesArr[O0QQ00];originCookie=cookiesArr[O0QQ00];$[O0QQ('‫33','ioR^')]=QQ0QQO[O0QQ('‮34','BsBy')](decodeURIComponent,cookie[O0QQ('‮35','Yd5U')](/pt_pin=(.+?);/)&&cookie[O0QQ('‮36','fcqy')](/pt_pin=(.+?);/)[0x1]);$[O0QQ('‮37','bC@f')]=QQ0QQO[O0QQ('‫38','&*qK')](O0QQ00,0x1);$['isLogin']=!![];$['nickName']='';console[O0QQ('‮39','iXqJ')](QQ0QQO['QQQOQ'](QQ0QQO[O0QQ('‮3a',']EJs')](QQ0QQO[O0QQ('‮3b','!PG7')](QQ0QQO[O0QQ('‮3c',')MRn')],$[O0QQ('‮3d','WWu&')])+'】',$['nickName']||$['UserName']),'\x0a'));if(!$[O0QQ('‫3e','KPi!')]){if(QQ0QQO[O0QQ('‮3f','Ybp[')](QQ0QQO['QQ0O0'],QQ0QQO[O0QQ('‮40','X3AX')])){$['msg']($[O0QQ('‮41','KPi!')],QQ0QQO[O0QQ('‮42','OLQs')],QQ0QQO[O0QQ('‮43','rWEU')](QQ0QQO['OO0OQ'](QQ0QQO[O0QQ('‮44','og1t')](QQ0QQO['OQ0QQ']+$[O0QQ('‮45','oUCZ')],'\x20'),$[O0QQ('‮46','BsBy')]||$[O0QQ('‫47','Ri4I')]),QQ0QQO['OQ00Q']),{'open-url':QQ0QQO[O0QQ('‮48','7pxb')]});if($['isNode']()){if(QQ0QQO['OQOO0'](QQ0QQO[O0QQ('‮49','D2Ew')],QQ0QQO['OQ0QO'])){return unescape(r[0x2]);}else{await notify[O0QQ('‫4a','Isc@')](QQ0QQO['OOQ00']($[O0QQ('‫4b','KZ8m')]+QQ0QQO[O0QQ('‮4c','KZ8m')],$['UserName']),QQ0QQO[O0QQ('‮4d','wrgf')](QQ0QQO[O0QQ('‫4e','fcqy')](QQ0QQO['QOOQO'](QQ0QQO[O0QQ('‫4f','P]Bc')],$[O0QQ('‮50','ioR^')]),'\x20'),$[O0QQ('‮51','OLQs')])+QQ0QQO[O0QQ('‮52','Ri4I')]);}}continue;}else{e=e||0x20;let OQ0O=QQ0QQO[O0QQ('‮53','OLQs')],QQOQ=OQ0O[O0QQ('‫54','Isc@')],O0Q0='';for(O0QQ00=0x0;QQ0QQO[O0QQ('‫55','Yd5U')](O0QQ00,e);O0QQ00++)O0Q0+=OQ0O['charAt'](Math[O0QQ('‮56','k4Db')](QQ0QQO[O0QQ('‮57','Kg#J')](Math['random'](),QQOQ)));return O0Q0;}}await getUA();await QQ0QQO[O0QQ('‮58','!PG7')](lottery);await $[O0QQ('‮59','Ri4I')](0x7d0);if($[O0QQ('‫5a','BZj#')]||$['activityEnd']){break;}}}})()[O0QQ('‮5b','j[Ig')](Q0O0Q0=>{$[O0QQ('‮5c','[ER&')]('','\x20'+$['name']+O0QQ('‮5d','j[Ig')+Q0O0Q0+'!','');})['finally'](()=>{$['done']();});async function lottery(){var OO0O00={'Q0Q0Q':function(OO0OQ0,QOQO00){return OO0OQ0(QOQO00);},'Q00QO':function(QOQOQ0,OOQ00Q,OOQOOO){return QOQOQ0(OOQ00Q,OOQOOO);},'QQ0OQ':function(O0O0O0,O0OQOO){return O0O0O0==O0OQOO;},'QQ0OO':'获取[token]失败！','QQQ00':'QO00','QQQQ0':function(O0OQOQ){return O0OQOQ();},'OO0O0':function(OO0OOQ,OO0OOO){return OO0OOQ===OO0OOO;},'OOQOQ':function(QOQOOQ){return QOQOOQ();},'QOQO0':function(QOQOOO,OOQOOQ){return QOQOOO<OOQOOQ;},'OQQ0Q':function(OOQO00,QO0OQO){return OOQO00===QO0OQO;},'OOQOO':'OQQQ','OQ000':'QQQ0','OQQQQ':function(O0O0OQ,OOQOQ0){return O0O0OQ+OOQOQ0;},'OQQ0O':'【京东账号'};$[O0QQ('‮5e','hk0Z')]=![];$[O0QQ('‮5f','Uh!j')]=await OO0O00[O0QQ('‮60','Mc4R')](getToken,cookie,domains);if(OO0O00[O0QQ('‫61','Ybp[')]($['token'],'')){console[O0QQ('‫62','KPi!')](OO0O00['QQ0OO']);return;}if(activityId){if(OO0O00[O0QQ('‮63','EQU^')]===OO0O00[O0QQ('‮64','[BMv')]){await OO0O00[O0QQ('‮65','og1t')](jd_store_user_info);if(OO0O00['OO0O0']($[O0QQ('‫66','BsBy')],!![])){return;}await OO0O00['OOQOQ'](lotteryx);if($[O0QQ('‮67','WWu&')])return;await task_shop_win_num();await $[O0QQ('‮68','qtcQ')](0x3e8);if($[O0QQ('‮69','6PHL')]==0x0){console[O0QQ('‫6a','7pxb')](O0QQ('‮6b','Uh!j'));}for(let QO0O0O=0x0;OO0O00['QOQO0'](QO0O0O,$[O0QQ('‮6c','X3AX')]);QO0O0O++){if(OO0O00[O0QQ('‫6d','Yd5U')](OO0O00['OOQOO'],OO0O00['OOQOO'])){if(!$['errs']){await OO0O00[O0QQ('‫6e','gA)2')](lottery_win_prize);await $[O0QQ('‫6f','D2Ew')](0x7d0);}}else{$[O0QQ('‮70','DSKG')](e,resp);}}}else{return!![];}}else{if(OO0O00[O0QQ('‮71','RaB]')](OO0O00['OQ000'],OO0O00[O0QQ('‮72','^!$p')])){console[O0QQ('‫73','9rD%')](OO0O00[O0QQ('‮74','&*qK')](OO0O00[O0QQ('‮75','!PG7')](OO0O00[O0QQ('‫76','[BMv')],$['index']),O0QQ('‮77','DSKG')));}else{$['UA']=O0QQ('‫78','KPi!')+OO0O00[O0QQ('‮79','Ri4I')](randomString,0x28)+O0QQ('‫7a','Kg#J');}}}function jd_store_user_info(){var O0OQQ0={'O0QQQ':O0QQ('‮7b','j[Ig'),'O0Q0Q':function(O0OQ00,OO00QQ){return O0OQ00+OO00QQ;},'O00Q0':O0QQ('‫7c','EQU^'),'Q0OQ0':function(OO0OO0,OO000Q){return OO0OO0===OO000Q;},'QO0OO':function(OOQ0OQ,OOQQ00){return OOQ0OQ!==OOQQ00;},'QOQQ0':O0QQ('‫7d','RaB]'),'QOQ00':function(OOQQQO,OOQQ0O){return OOQQQO==OOQQ0O;},'QQ00Q':function(OOQ000,OOQ0Q0){return OOQ000!==OOQ0Q0;},'QQOO0':O0QQ('‫7e','og1t'),'QQ0QQ':O0QQ('‫7f','EQU^'),'OOO0Q':function(O0O000,O0O0Q0,O0OQQO){return O0O000(O0O0Q0,O0OQQO);}};return new Promise(O0OQ0O=>{var O0OQQQ={'OQ0Q0':O0OQQ0['O0QQQ'],'Q000O':function(O0OQ0Q,OO0O0Q){return O0OQQ0[O0QQ('‫80','9rD%')](O0OQ0Q,OO0O0Q);},'QQQ0Q':O0OQQ0[O0QQ('‮81','OLQs')],'QO0O0':'活动id不存在','QQQQQ':function(OO0OQQ,OO0O0O){return O0OQQ0['Q0OQ0'](OO0OQQ,OO0O0O);},'QQ000':'OO00','QQQ0O':O0QQ('‫82','ioR^'),'OOQO0':function(OO0OQO,O00QO0){return O0OQQ0[O0QQ('‮83','Uh!j')](OO0OQO,O00QO0);},'OQ0OQ':'\x20jd_store_user_info\x20API请求失败，请检查网路重试','QOQOQ':function(QOQO0Q,QOQOQQ){return O0OQQ0['QO0OO'](QOQO0Q,QOQOQQ);},'OQ0OO':O0QQ('‮84','iXqJ'),'OQQ00':O0OQQ0[O0QQ('‫85','Mc4R')],'OQQQ0':'Q0OO','QQQQO':function(QOQO0O,QOQOQO){return O0OQQ0[O0QQ('‮86',')MRn')](QOQO0O,QOQOQO);},'QQ0Q0':function(OOQQQQ,OOQQ0Q){return O0OQQ0[O0QQ('‫87','6PHL')](OOQQQQ,OOQQ0Q);},'Q0OOO':O0OQQ0['QQOO0'],'Q0OOQ':function(OOQ0QO,OOQOO0){return OOQ0QO(OOQOO0);},'O000Q':O0OQQ0[O0QQ('‫88','DSKG')],'O0OO0':function(OOQ0QQ){return OOQ0QQ();}};if('OQ00'===O0QQ('‫89','OLQs')){console[O0QQ('‫62','KPi!')](O0OQQQ[O0QQ('‮8a','OLQs')]);return;}else{let O0O00Q=O0QQ('‮8b','gA)2')+$[O0QQ('‫8c','gA)2')];$['post'](O0OQQ0['OOO0Q'](taskPostUrl,O0QQ('‫8d','Ri4I'),O0O00Q),async(O0O0QQ,O0O00O,O0O0QO)=>{var O0OOO0={'O0OOO':O0OQQQ[O0QQ('‫8e','OLQs')],'O000O':function(QOQ0OQ){return QOQ0OQ();}};if(O0OQQQ[O0QQ('‫8f','KPi!')](O0OQQQ[O0QQ('‫90','fcqy')],O0OQQQ[O0QQ('‫91','Ybp[')])){try{return JSON[O0QQ('‫92','Isc@')](str);}catch(QOQQ00){console[O0QQ('‫93','P]Bc')](QOQQ00);$[O0QQ('‮94','[BMv')]($[O0QQ('‫95','BsBy')],'',O0QQ('‫96','BZj#'));return[];}}else{try{if(O0O0QQ){console[O0QQ('‫97','fcqy')](O0OQQQ[O0QQ('‮98','KPi!')]('',JSON[O0QQ('‫99','KZ8m')](O0O0QQ)));console['log'](O0OQQQ[O0QQ('‫9a','BsBy')]($[O0QQ('‮9b','&*qK')],O0OQQQ['OQ0OQ']));}else{if(O0OQQQ[O0QQ('‮9c','gA)2')](O0OQQQ[O0QQ('‫9d','P]Bc')],O0QQ('‮9e','KZ8m'))){lz_cookie[sk[O0QQ('‮9f','DSKG')](';')[0x0][O0QQ('‮a0','R*NE')](0x0,sk[O0QQ('‫a1','Kg#J')](';')[0x0][O0QQ('‫a2','iXqJ')]('='))]=sk[O0QQ('‮a3','P]Bc')](';')[0x0][O0QQ('‮a4','&*qK')](O0OQQQ[O0QQ('‫a5','gA)2')](sk['split'](';')[0x0][O0QQ('‮a6','Uh!j')]('='),0x1));}else{O0O0QO=JSON[O0QQ('‫a7','(oB7')](O0O0QO);if(O0O0QO&&O0OQQQ[O0QQ('‫a8','BZj#')](O0O0QO[O0QQ('‫a9','gA)2')],O0OQQQ[O0QQ('‮aa','!PG7')])){}else{if(O0OQQQ[O0QQ('‫ab','[BMv')](O0OQQQ['OQQQ0'],O0OQQQ[O0QQ('‫ac','6PHL')])){$[O0QQ('‫ad','ioR^')]=!![];}else{$['msg']($['name'],'',O0OOO0['O0OOO']);$[O0QQ('‫ae','OLQs')]();return;}}if(O0OQQQ['QQQQO'](O0O00O['status'],0xc8)){if(O0OQQQ[O0QQ('‫af','og1t')](O0OQQQ[O0QQ('‮b0','&*qK')],'QOQ0')){O0OOO0[O0QQ('‮b1','7pxb')](O0OQ0O);}else{O0OQQQ['Q0OOQ'](refreshToken,O0O00O);}}}}}catch(QO000O){$[O0QQ('‮b2','P]Bc')](QO000O,O0O00O);}finally{if(O0OQQQ[O0QQ('‮b3','!PG7')](O0OQQQ[O0QQ('‫b4','i2(A')],O0QQ('‮b5','KPi!'))){console[O0QQ('‫b6','R*NE')](O0OQQQ[O0QQ('‫b7','ioR^')]('',JSON[O0QQ('‫b8','j[Ig')](O0O0QQ)));console['log']($['name']+O0OQQQ[O0QQ('‮b9','KPi!')]);}else{O0OQQQ[O0QQ('‮ba','bC@f')](O0OQ0O);}}}});}});}function task_shop_win_num(){var QO00QQ={'OOOQ0':function(QOQQOQ,QO000Q){return QOQQOQ===QO000Q;},'OOO00':O0QQ('‮bb','&*qK'),'QQOOO':O0QQ('‫bc','D2Ew'),'Q0OQQ':O0QQ('‮bd','Uh!j'),'Q0O0Q':O0QQ('‮be','KZ8m'),'O00OQ':function(QOOOQQ,QO00OQ){return QOOOQQ==QO00OQ;},'O0QQ0':function(QOQ0O0,QOOO0Q){return QOQ0O0(QOOO0Q);},'O0QOO':'OOOO','O0QOQ':O0QQ('‫bf','hk0Z'),'QO0QQ':function(QOQQOO,QOOOQO){return QOQQOO===QOOOQO;},'QOOO0':O0QQ('‮c0','RaB]'),'QO00Q':O0QQ('‫c1','gA)2'),'QO0QO':function(QOOO0O,QO0QQO,QO00Q0){return QOOO0O(QO0QQO,QO00Q0);}};return new Promise(QO0Q0O=>{var QO0000={'Q0O00':function(QO0QQQ,QOQ00Q){return QO00QQ[O0QQ('‫c2','7pxb')](QO0QQQ,QOQ00Q);},'O0QQO':O0QQ('‮c3','gA)2'),'O0Q0O':function(QOQOO0,QOQ0QQ){return QOQOO0===QOQ0QQ;},'O00OO':QO00QQ[O0QQ('‮c4','rWEU')],'O0Q00':function(QOQ00O,QOQ0QO){return QOQ00O+QOQ0QO;},'Q0OQO':QO00QQ[O0QQ('‮c5','(oB7')],'Q0O0O':QO00QQ[O0QQ('‫c6','!PG7')],'QO000':QO00QQ['Q0O0Q'],'QOQ0O':function(OOQOQQ,OOQO0Q){return QO00QQ['O00OQ'](OOQOQQ,OOQO0Q);},'QOQQQ':function(OOQOQO,OOQO0O){return QO00QQ['O0QQ0'](OOQOQO,OOQO0O);},'QQOOQ':function(QO0OQ0,QO0O00){return QO0OQ0!==QO0O00;},'QO0Q0':QO00QQ[O0QQ('‮c7','bC@f')],'QOQQO':QO00QQ[O0QQ('‮c8','EQU^')],'QOQ0Q':O0QQ('‮c9','UPC2')};if(QO00QQ[O0QQ('‮ca','k4Db')](QO00QQ[O0QQ('‮cb','8m06')],QO00QQ[O0QQ('‫cc','hk0Z')])){$['drawnum']=pattern[0x1];}else{let QOQQQQ=O0QQ('‮cd','R*NE')+activityId;$[O0QQ('‫ce','$[y(')](QO00QQ['QO0QO'](taskPostUrl,'/lottery/task_shop_win_num',QOQQQQ),async(QOQQ0O,QOQ000,QOQQQO)=>{var QOQ0Q0={'OOOQO':function(QO0OOO){return QO0OOO();}};try{if(QO0000[O0QQ('‫cf','%Kkk')](O0QQ('‫d0','qtcQ'),QO0000['O0QQO'])){if(QOQQ0O){if(QO0000[O0QQ('‫d1','fcqy')](O0QQ('‫d2','P]Bc'),QO0000[O0QQ('‫d3','(oB7')])){return;}else{console[O0QQ('‫d4','Ybp[')](''+JSON[O0QQ('‮d5','6PHL')](QOQQ0O));console[O0QQ('‮d6',']EJs')](QO0000[O0QQ('‮d7','Uh!j')]($[O0QQ('‫d8','[BMv')],QO0000[O0QQ('‮d9','k4Db')]));}}else{QOQQQO=JSON[O0QQ('‮da','og1t')](QOQQQO);if(QOQQQO&&QO0000[O0QQ('‮db','gA)2')](QOQQQO[O0QQ('‮dc','Kg#J')],QO0000[O0QQ('‫dd','P]Bc')])){if(O0QQ('‮de','bC@f')!==O0QQ('‫df','8m06')){$[O0QQ('‮e0','$[y(')]++;}else{$[O0QQ('‫e1','oUCZ')](e,QOQ000);}}else{QOQQ0O=QOQQQO['msg'];for(let OQ0OQO of['不足','火爆','上限','用完了','擦肩','抽奖机会','达到',QO0000[O0QQ('‫e2','hk0Z')]]){if(QOQQ0O[O0QQ('‫e3','X3AX')](OQ0OQO)){$['errs']=!![];break;}}}if(QO0000['QOQ0O'](QOQ000[O0QQ('‫e4','P]Bc')],0xc8)){QO0000['QOQQQ'](refreshToken,QOQ000);}}}else{refreshToken(QOQ000);}}catch(OQQOOO){if(QO0000[O0QQ('‮e5','Ybp[')](QO0000['QO0Q0'],QO0000[O0QQ('‫e6','[ER&')])){$['logErr'](OQQOOO,QOQ000);}else{QOQ0Q0[O0QQ('‮e7','[BMv')](QO0Q0O);}}finally{if(QO0000['QOQ0Q']!==O0QQ('‮e8','KZ8m')){console[O0QQ('‫e9','BZj#')](O0QQ('‫ea','oUCZ'));return![];}else{QO0Q0O();}}});}});}function lottery_win_prize(){var OOO0OO={'QOO00O':O0QQ('‫eb','7pxb'),'QOO0QQ':function(Q00OQQ,Q00O0O){return Q00OQQ+Q00O0O;},'QOOOO0':function(OOOQ00,OOO0OQ){return OOOQ00===OOO0OQ;},'O00OOO':'Q0QO','QOO0QO':O0QQ('‫ec','iXqJ'),'QQQO0Q':O0QQ('‫ed','Yd5U'),'QQQOQQ':O0QQ('‮ee','og1t'),'QQQO0O':O0QQ('‫ef','[BMv'),'QQQOQO':function(Q00OQO,OQQOQ0){return Q00OQO!==OQQOQ0;},'O00OQ0':O0QQ('‮f0','$[y('),'QOOQQQ':'bean','QOOQ0Q':function(OQ0O00,OQ0OQ0){return OQ0O00+OQ0OQ0;},'O0QQQQ':function(Q0QOQ0,Q0QO00){return Q0QOQ0+Q0QO00;},'O0Q000':O0QQ('‫f1','Isc@'),'O0QQ0O':O0QQ('‫f2','Mc4R'),'O0QQ0Q':function(OQQ0QQ,OQQ00O){return OQQ0QQ+OQQ00O;},'O0QOOO':O0QQ('‮f3','[BMv'),'QOO0Q0':function(OQQOO0,OQQ00Q){return OQQOO0+OQQ00Q;},'QOOQQO':'Q0QQ','QOOQ0O':O0QQ('‫f4','k4Db'),'QOO000':function(OOO0Q0){return OOO0Q0();},'QOOQ00':'application/json,\x20text/javascript,\x20*/*;\x20q=0.01','QOO0OQ':O0QQ('‫f5','fcqy'),'O0Q0QQ':O0QQ('‫f6','j[Ig'),'O0Q00Q':O0QQ('‮f7','6PHL'),'O0QOO0':'\x20task_shop_win_num\x20API请求失败，请检查网路重试','O0QO00':O0QQ('‮f8','i2(A'),'O0QOQ0':O0QQ('‮f9','oUCZ')};return new Promise(OOOQ0O=>{var Q00O00={'OQOQO':function(OOO000,OOOQQO){return OOO000+OOOQQO;},'QQOQ0':OOO0OO['QOOQ00'],'Q0QO0':OOO0OO[O0QQ('‮fa','UPC2')],'O00O0':OOO0OO[O0QQ('‫fb','BZj#')],'O0Q0QO':OOO0OO[O0QQ('‮fc','iXqJ')],'O00OQO':OOO0OO[O0QQ('‫fd','DSKG')]};if(OOO0OO[O0QQ('‫fe','$[y(')](OOO0OO[O0QQ('‫ff','^!$p')],'QQO0Q')){let OOOQ0Q='pid='+activityId;$[O0QQ('‮100','OLQs')](taskPostUrl(OOO0OO[O0QQ('‮101','Uh!j')],OOOQ0Q),async(Q00OQ0,OOOQQQ,Q00OOQ)=>{var OOO0QO={'OOOOO':OOO0OO[O0QQ('‮102','gA)2')],'OQOQQ':function(Q0QOQO,OQ0O0Q){return OOO0OO[O0QQ('‫103','(oB7')](Q0QOQO,OQ0O0Q);},'OQO0O':O0QQ('‮104','R*NE')};try{if(Q00OQ0){if(OOO0OO[O0QQ('‫105','Yd5U')](O0QQ('‫106','RaB]'),OOO0OO[O0QQ('‫107','Ybp[')])){let QO0Q=Q00OOQ[O0QQ('‮108','j[Ig')](/(活动已结束)/)&&Q00OOQ[O0QQ('‮109','P]Bc')](/(活动已结束)/)[0x1]||Q00OOQ[O0QQ('‫10a','^!$p')](/(哎哟，当前活动尚未开始噢！)/)&&Q00OOQ['match'](/(哎哟，当前活动尚未开始噢！)/)[0x1]||'';if(QO0Q){$[O0QQ('‮10b','j[Ig')]=!![];console[O0QQ('‮d6',']EJs')](OOO0QO['OOOOO']);}let QQ0O=Q00OOQ[O0QQ('‮10c','Isc@')](/剩余抽奖<span>(.+)<\/span>次/);if(QQ0O){$['drawnum']=QQ0O[0x1];}}else{console[O0QQ('‮10d','bC@f')](''+JSON[O0QQ('‫10e',']EJs')](Q00OQ0));console[O0QQ('‫10f','Kg#J')](OOO0OO[O0QQ('‫110','oUCZ')]($[O0QQ('‮41','KPi!')],OOO0OO[O0QQ('‫111','oUCZ')]));}}else{if(OOO0OO[O0QQ('‫112','^!$p')](OOO0OO[O0QQ('‫113','Ybp[')],OOO0OO[O0QQ('‫114','bC@f')])){console['log'](''+JSON['stringify'](Q00OQ0));console[O0QQ('‮115','QQxd')](OOO0QO[O0QQ('‫116','RaB]')]($[O0QQ('‫117','EQU^')],OOO0QO[O0QQ('‮118','9rD%')]));}else{Q00OOQ=JSON[O0QQ('‮119','Uh!j')](Q00OOQ);if(Q00OOQ&&OOO0OO[O0QQ('‮11a','[ER&')](Q00OOQ[O0QQ('‮11b','Uh!j')],OOO0OO[O0QQ('‮11c','OLQs')])){if(Q00OOQ[O0QQ('‮11d','i2(A')][O0QQ('‮11e','D2Ew')]){if(OOO0OO['QQQOQO'](O0QQ('‫11f','BZj#'),O0QQ('‮120','(oB7'))){return{'url':Q00O00['OQOQO'](Q00O00[O0QQ('‫121','OLQs')]('',domains),url),'body':OOOQ0Q,'headers':{'Accept':Q00O00['QQOQ0'],'Accept-Encoding':Q00O00[O0QQ('‮122','ioR^')],'Accept-Language':O0QQ('‮123','&*qK'),'Connection':Q00O00[O0QQ('‫124','j[Ig')],'Content-Type':Q00O00['O0Q0QO'],'Cookie':cookie,'Host':$['domain'],'Origin':domains,'Referer':activityUrl,'User-Agent':$['UA']}};}else{switch(Q00OOQ['data'][O0QQ('‫125','[BMv')][O0QQ('‫126','Ybp[')]){case OOO0OO[O0QQ('‮127','WWu&')]:console[O0QQ('‫128','%Kkk')](O0QQ('‮129','Ri4I'));$[O0QQ('‮12a',']EJs')]=!![];break;case OOO0OO[O0QQ('‮12b','qtcQ')]:console[O0QQ('‫12c','EQU^')](OOO0OO[O0QQ('‫12d','WWu&')](OOO0OO[O0QQ('‫12e','Ybp[')](O0QQ('‫12f','k4Db'),Q00OOQ[O0QQ('‮130','gA)2')][O0QQ('‮131','OLQs')][O0QQ('‮132','i2(A')]),OOO0OO['O0Q000']));break;case OOO0OO[O0QQ('‮133','6PHL')]:console['log'](OOO0OO[O0QQ('‫134','RaB]')](O0QQ('‮135',']EJs'),Q00OOQ['data']['prize_info'][O0QQ('‫136','ioR^')]||Q00OOQ[O0QQ('‮137','7pxb')]['prize_info']['once_num']));break;case OOO0OO['O0QOOO']:console[O0QQ('‮138','Isc@')](OOO0OO['QOO0Q0'](O0QQ('‮139','WWu&'),Q00OOQ[O0QQ('‮13a','D2Ew')][O0QQ('‮13b','oUCZ')][O0QQ('‫13c','rWEU')]));break;default:console[O0QQ('‮13d','6PHL')](Q00OOQ[O0QQ('‫13e','8m06')]);break;}}}else{console['log']('💨\x20\x20空气');}}else{console[O0QQ('‮13f','UPC2')]('领取失败：'+Q00OOQ[O0QQ('‮140','KZ8m')]);Q00OQ0=Q00OOQ[O0QQ('‫13e','8m06')];for(let OQQ000 of['不足',O0QQ('‮141','[BMv'),'火爆','上限',O0QQ('‮142','!PG7'),O0QQ('‫143','bC@f')]){if(Q00OQ0['includes'](OQQ000)){if(OOO0OO[O0QQ('‮144','9rD%')](OOO0OO['QOOQQO'],OOO0OO[O0QQ('‫145','%Kkk')])){$['errs']=!![];break;}else{$['logErr'](OQQ000,OOOQQQ);}}}}if(OOOQQQ[O0QQ('‮146','^!$p')]==0xc8){refreshToken(OOOQQQ);}}}}catch(OQQ0Q0){$[O0QQ('‮147','qtcQ')](OQQ0Q0,OOOQQQ);}finally{OOO0OO[O0QQ('‮148','Uh!j')](OOOQ0O);}});}else{console['log'](''+JSON[O0QQ('‫149','DSKG')](err));console[O0QQ('‮14a','j[Ig')]($[O0QQ('‮14b','bC@f')]+Q00O00[O0QQ('‮14c','(oB7')]);}});}function lotteryx(){var OQQQQO={'QQQO00':O0QQ('‫14d','KPi!'),'QQQOQ0':O0QQ('‮14e',']EJs'),'QQQOOQ':function(OQQQ0O,Q00OOO){return OQQQ0O+Q00OOO;},'QOO00Q':'OO00Q','QO0QOO':O0QQ('‮14f','EQU^'),'QO00O0':O0QQ('‫150','%Kkk'),'QQ0OO0':function(OOOQO0,Q0000Q){return OOOQO0===Q0000Q;},'QQ00QQ':'OQOQ0','QQ000Q':'OO0QO','O00QOO':O0QQ('‮151','!PG7'),'QQQQQO':O0QQ('‮152','Ri4I'),'O000O0':O0QQ('‮153','^!$p')};return new Promise(OQQ0QO=>{var OQ00QQ={'QOOOOQ':'CookieJD','QO0Q00':OQQQQO[O0QQ('‫154','oUCZ')],'O0QOOQ':function(OQ0OO0,OQ000Q){return OQ0OO0!==OQ000Q;},'QQ0OQO':OQQQQO[O0QQ('‮155','iXqJ')],'QQ0O0O':function(OQ00QO,OQ000O){return OQ00QO+OQ000O;},'QQ0OQQ':function(OQQ0OO,OQQQ00){return OQQQQO[O0QQ('‮156','%Kkk')](OQQ0OO,OQQQ00);},'O0QOQO':'\x20lotteryz\x20API请求失败，请检查网路重试','QQ0O0Q':OQQQQO[O0QQ('‫157','ioR^')],'O0QOQQ':OQQQQO[O0QQ('‫158','&*qK')],'O0QO0O':OQQQQO['QO00O0'],'QOOOOO':function(OOOQOQ){return OOOQOQ();}};if(OQQQQO[O0QQ('‫159','wrgf')](OQQQQO[O0QQ('‮15a','iXqJ')],OQQQQO[O0QQ('‫15b','X3AX')])){$[O0QQ('‫15c','hk0Z')](e,resp);}else{const OQQQQ0={'url':domains+O0QQ('‫15d','Isc@')+activityId+O0QQ('‮15e','k4Db')+$['token'],'headers':{'Accept':O0QQ('‫15f','Kg#J'),'Accept-Encoding':OQQQQO[O0QQ('‫160','Yd5U')],'Accept-Language':OQQQQO[O0QQ('‫161','Uh!j')],'Connection':OQQQQO[O0QQ('‫162','bC@f')],'Cookie':cookie,'Host':$[O0QQ('‫163','Mc4R')],'Referer':activityUrl,'User-Agent':$['UA']}};$[O0QQ('‮164','X3AX')](OQQQQ0,async(Q000QQ,Q00OO0,Q0000O)=>{var OOO0O0={'O00O0Q':OQ00QQ[O0QQ('‫165','Isc@')],'QOOOQ0':OQ00QQ[O0QQ('‮166','^!$p')],'QQQOOO':O0QQ('‫167','iXqJ')};try{if(O0QQ('‫168','9rD%')!==O0QQ('‫169','fcqy')){$[O0QQ('‫16a','og1t')]('','\x20'+$['name']+O0QQ('‮16b','OLQs')+e+'!','');}else{if(Q000QQ){if(OQ00QQ[O0QQ('‮16c','7pxb')](O0QQ('‮16d','EQU^'),OQ00QQ[O0QQ('‮16e','!PG7')])){cookiesArr=[$['getdata'](OOO0O0[O0QQ('‫16f',']EJs')]),$['getdata'](OOO0O0[O0QQ('‮170','6PHL')]),...$[O0QQ('‫171','7pxb')]($[O0QQ('‮172','Ri4I')](OOO0O0[O0QQ('‫173','EQU^')])||'[]')[O0QQ('‮174','[ER&')](O00Q=>O00Q[O0QQ('‮175','KZ8m')])][O0QQ('‮176','iXqJ')](QQ00=>!!QQ00);}else{console[O0QQ('‫62','KPi!')](OQ00QQ[O0QQ('‫177',')MRn')]('',JSON[O0QQ('‫178','&*qK')](Q000QQ)));console['log'](OQ00QQ[O0QQ('‫179','Isc@')]($[O0QQ('‮17a','(oB7')],OQ00QQ[O0QQ('‮17b','9rD%')]));}}else{if(OQ00QQ['O0QOOQ'](OQ00QQ['QQ0O0Q'],O0QQ('‫17c',')MRn'))){Q0000O=Q0000O;if(Q0000O){let OQ0OOQ=Q0000O['match'](/(活动已结束)/)&&Q0000O[O0QQ('‮17d','Ri4I')](/(活动已结束)/)[0x1]||Q0000O[O0QQ('‮17e','i2(A')](/(哎哟，当前活动尚未开始噢！)/)&&Q0000O[O0QQ('‮17f','UPC2')](/(哎哟，当前活动尚未开始噢！)/)[0x1]||'';if(OQ0OOQ){$['activityEnd']=!![];console['log'](OQ00QQ[O0QQ('‫180','[ER&')]);}let OQ0OOO=Q0000O[O0QQ('‮36','fcqy')](/剩余抽奖<span>(.+)<\/span>次/);if(OQ0OOO){$['drawnum']=OQ0OOO[0x1];}}}else{GetCookie();$[O0QQ('‫181','RaB]')]();}}}}catch(Q00Q0O){if(OQ00QQ[O0QQ('‮182','EQU^')](O0QQ('‫183','Ybp['),OQ00QQ[O0QQ('‮184','bC@f')])){$['logErr'](Q00Q0O,Q00OO0);}else{console['log'](O0QQ('‮185','oUCZ'));}}finally{OQ00QQ[O0QQ('‮186','R*NE')](OQQ0QO);}});}});}function taskPostUrl(Q00QQO,Q000Q0){var OOQQO0={'QQQ0Q0':function(OOOO0O,Q000OQ){return OOOO0O+Q000OQ;},'O00QOQ':function(OOOOQO,Q00Q00){return OOOOQO+Q00Q00;},'QQQ0OQ':O0QQ('‫187','8m06'),'QQQQ00':'gzip,\x20deflate,\x20br','O0OOOO':'keep-alive','O0OOOQ':O0QQ('‫188','bC@f')};return{'url':OOQQO0['QQQ0Q0'](OOQQO0[O0QQ('‮189','BZj#')]('',domains),Q00QQO),'body':Q000Q0,'headers':{'Accept':OOQQO0[O0QQ('‮18a','BsBy')],'Accept-Encoding':OOQQO0['QQQQ00'],'Accept-Language':O0QQ('‮18b','BsBy'),'Connection':OOQQO0['O0OOOO'],'Content-Type':OOQQO0[O0QQ('‫18c','DSKG')],'Cookie':cookie,'Host':$[O0QQ('‫18d','6PHL')],'Origin':domains,'Referer':activityUrl,'User-Agent':$['UA']}};}function refreshToken(OO0QOQ){var OO0QOO={'Q0OQO0':function(OO00O0,OOOO0Q){return OO00O0(OOOO0Q);},'O0OOQO':function(Q00QQ0,OOQQOQ){return Q00QQ0===OOQQOQ;},'O00Q00':O0QQ('‫18e','ioR^'),'O000OQ':'headers','O00QQ0':O0QQ('‮18f','%Kkk'),'QQQ0QQ':function(Q000OO,OOQ0O0){return Q000OO!==OOQ0O0;},'QQQOO0':O0QQ('‫190','Isc@'),'QQQ00O':'Q0QOQ','QQQ0QO':O0QQ('‮191','wrgf'),'QQQQQQ':function(OOOOQQ,OOQQOO){return OOOOQQ+OOQQOO;},'QQQQ0Q':function(OOQQQ0,Q00QOQ){return OOQQQ0+Q00QOQ;}};if(OO0QOQ){if(OO0QOQ[OO0QOO[O0QQ('‮192','Isc@')]][OO0QOO['O00QQ0']]){if(OO0QOO['QQQ0QQ'](OO0QOO['QQQOO0'],OO0QOO[O0QQ('‫193','qtcQ')])){cookie=originCookie+';';for(let OOQ0OO of OO0QOQ['headers'][OO0QOO['O00QQ0']]){if(OO0QOO['O0OOQO']('QQOQQ',OO0QOO[O0QQ('‮194','bC@f')])){OO0QOO[O0QQ('‫195','qtcQ')](refreshToken,OO0QOQ);}else{lz_cookie[OOQ0OO[O0QQ('‮196','&*qK')](';')[0x0][O0QQ('‫197','fcqy')](0x0,OOQ0OO['split'](';')[0x0][O0QQ('‫198','j[Ig')]('='))]=OOQ0OO[O0QQ('‫199',']EJs')](';')[0x0][O0QQ('‮19a','k4Db')](OO0QOO['QQQQQQ'](OOQ0OO[O0QQ('‫19b','RaB]')](';')[0x0]['indexOf']('='),0x1));}}for(const Q000O0 of Object['keys'](lz_cookie)){cookie+=OO0QOO['QQQQQQ'](OO0QOO['QQQQ0Q'](Q000O0,'=')+lz_cookie[Q000O0],';');}activityCookie=cookie;}else{data=JSON[O0QQ('‮19c','&*qK')](data);if(data&&OO0QOO['O0OOQO'](data[O0QQ('‫19d','OLQs')],OO0QOO['O00Q00'])){}else{$['hasEnd']=!![];}if(OO0QOQ[O0QQ('‮19e',')MRn')]==0xc8){refreshToken(OO0QOQ);}}}}}function getUA(){var OO00QO={'O0OO00':function(OO000O,OQQOQQ){return OO000O(OQQOQQ);}};$['UA']='jdapp;iPhone;10.2.2;14.3;'+OO00QO[O0QQ('‮19f','P]Bc')](randomString,0x28)+O0QQ('‮1a0','Mc4R');}function randomString(OQQO0Q){var OOO00O={'O0QQO0':'abcdef0123456789','QQ0O00':function(OOOOO0,OOO0QQ){return OOOOO0<OOO0QQ;},'Q0O0O0':function(OOO00Q,Q00QO0){return OOO00Q*Q00QO0;}};OQQO0Q=OQQO0Q||0x20;let OO0Q0Q=OOO00O[O0QQ('‫1a1','oUCZ')],OO0QQQ=OO0Q0Q[O0QQ('‫1a2','Mc4R')],OO0000='';for(i=0x0;OOO00O[O0QQ('‮1a3','fcqy')](i,OQQO0Q);i++)OO0000+=OO0Q0Q[O0QQ('‮1a4','UPC2')](Math['floor'](OOO00O['Q0O0O0'](Math[O0QQ('‮1a5','rWEU')](),OO0QQQ)));return OO0000;}function safeGet(OO0Q0O){var OO0QQO={'Q0OQOO':function(OO00Q0,OQQO00){return OO00Q0==OQQO00;},'QQ0Q00':'object'};if(!OO0Q0O){console[O0QQ('‮1a6','BsBy')](O0QQ('‮1a7','6PHL'));return![];}try{if(OO0QQO[O0QQ('‮1a8','iXqJ')](typeof JSON['parse'](OO0Q0O),OO0QQO['QQ0Q00'])){return!![];}}catch(OOOOOO){console[O0QQ('‮1a9','KZ8m')](OOOOOO);return![];}}function jsonParse(OOOOOQ){var OOOOQ0={'O00000':function(OQQOQO,OQQO0O){return OQQOQO==OQQO0O;},'O00QQQ':O0QQ('‫1aa','UPC2'),'QOOQQ0':function(OO00OQ,OO0Q00){return OO00OQ!==OO0Q00;},'O00Q0Q':O0QQ('‫1ab','RaB]'),'O000Q0':O0QQ('‮1ac',')MRn'),'QOO0OO':O0QQ('‫96','BZj#')};if(OOOOQ0['O00000'](typeof OOOOOQ,OOOOQ0[O0QQ('‮1ad','RaB]')])){if(OOOOQ0[O0QQ('‫1ae','6PHL')](O0QQ('‮1af','BsBy'),OOOOQ0[O0QQ('‫1b0','bC@f')])){try{if(OOOOQ0[O0QQ('‫1b1',']EJs')]===OOOOQ0['O000Q0']){return JSON[O0QQ('‫1b2','%Kkk')](OOOOOQ);}else{$[O0QQ('‫1b3','&*qK')]();}}catch(OO0QQ0){console['log'](OO0QQ0);$[O0QQ('‫1b4','9rD%')]($['name'],'',OOOOQ0[O0QQ('‮1b5','X3AX')]);return[];}}else{activityId=getQueryString(''+activityUrl,'a');$['domain']=activityUrl['match'](/https?:\/\/([^\/]+)/)[0x1];}}}function random(Q0O000,Q0OQ0O){var Q0OQQQ={'O00Q0O':function(QQ0QO0,OQO0Q0){return QQ0QO0-OQO0Q0;}};return Math[O0QQ('‮1b6','fcqy')](Math['random']()*Q0OQQQ['O00Q0O'](Q0OQ0O,Q0O000))+Q0O000;}function getQueryString(OQOQ0O,OQO000){var OQOQQO={'QQOO00':function(OQOQ0Q,OQOQQQ){return OQOQ0Q+OQOQQQ;},'QOOQOQ':O0QQ('‮1b7','WWu&'),'QQQQO0':function(QQO00Q,QQO00O){return QQO00Q!=QQO00O;},'QOOQOO':function(QQOOO0,QQO0QQ){return QQOOO0===QQO0QQ;},'QOO0O0':'QOOQ0','O000QO':O0QQ('‫1b8','wrgf'),'O0QQOO':function(Q0O00O,Q0O0QO){return Q0O00O(Q0O0QO);}};let Q0O00Q=new RegExp(OQOQQO['QQOO00'](OQOQQO[O0QQ('‫1b9','ioR^')]+OQO000,O0QQ('‫1ba','BZj#')));let Q0O0QQ=OQOQ0O[O0QQ('‮1bb','k4Db')](Q0O00Q);if(OQOQQO[O0QQ('‮1bc','UPC2')](Q0O0QQ,null)){if(OQOQQO['QOOQOO'](OQOQQO[O0QQ('‮1bd','BsBy')],OQOQQO[O0QQ('‮1be','rWEU')])){$[O0QQ('‫1bf','Mc4R')]++;}else{return OQOQQO[O0QQ('‮1c0','D2Ew')](unescape,Q0O0QQ[0x2]);}}return'';};OＯ0$='jsjiami.com.v6';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }