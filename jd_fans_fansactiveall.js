/*
粉丝福利红包一次性
cron:49 17,19 31 10 *
============Quantumultx===============
[task_local]
#粉丝福利红包一次性
49 17,19 31 10 * jd_fans_fansactiveall.js, tag=粉丝福利红包一次性, enabled=true
 */

const $ = new Env('粉丝福利红包一次性');
var OＯ0$='jsjiami.com.v6',OＯ0$_=['‮OＯ0$'],O00O=[OＯ0$,'6aOy5Y6sw59r77ym','GF4gYQ==','w4ATw7HDpw==','KUsl','wr7Cs8Ohw4/Cow4BEcKTw7pJV8Ohw63CgsOmwqk=','UW3DusK4eA==','wrLCrMOtw4/Cok8JHcKDw7M=','wqsTwqtZwoTDqsKXwoLDncOQPRMKw4nDqMKuKMOrwqbCrWN+woU0HxdpAcKGwp3DhcObWsKxwo3CpsKVRMOqwo7CmcKjw5jDj2/DusKxwpbDmMK4w5zDqMOiw6Ecw6PCocKUwrIrwpZvDMOgTAfDrUPCiiTDoAMITxofKDNVwqPDoTDCmiHCtXrCqRDDl8KNP8KtbTfClMO4VgERAgQQGsOBLcKwwqzDuQPDgGTDh2grdsK6H8ONNnvCnsKjAMOLw4LCsREVw73Cp3fCvsOdL03Duh0=','w45vPsOzbA==','YHjCuA90','wrBqcXNR','fmbDhw90','Q8O6EMOvHQ==','f8OOTT0=','wqkzwp5/w5g=','eFlZwqXCsw==','QARKCsKs','RsKKCX0Kw5PDiA/CoCdCHQUUwoLCtMOYRMKHd8O4wrjCplRPwoDDlMKew5TDs3jCqMK5wrXCisOJM8Kqw5DDqMO1w6dOIUrCmcOrDUZROmpbw6/ChcOlKC0vwqPCu8OzwqbCklvCuRA=','KRRH','PknCgMOKRw==','wpPDj0gmwrI=','w4lMwrJQw49GfElvJ0vDvcOkF8KfG8OzNsKbwqfDv1HDuUZxw4bDiENBME/CqcOZSHXDjA9CcsOaVcO1wr3DicO5wr8aI8OpV3TDjsKVUcK9d8Kew6rCtsOqwrFVwprClcOuWsK6','J8OwHA==','w5BERcOswpc=','wpPCrkg4','worDqX7Djg==','wqHCgcKvw4o=','GBXDsQ==','wqjDicOIOA==','GRvDokxU','TMKfHmY8wofCgw==','w5DCjzTCv3EPWw==','XUbCkA==','wpTDtwHDjg==','wrDDuFkS','w6jDqsO2EiR2Qg==','aMKZdMO4fgx9','w4ZdwrJEw50IMg==','ZFTCmMKK','Q8O6b8Ox','FxXDuURVw78=','fyghwqUaPQ==','w65JwrLDqQ==','UWPCug8=','wpTDtx/Crw==','wq5vw68i','w6LCtV3CisOrwps=','wrDDuDgS','5a2K77y96I2a5b2J772V','YcKxLFwo','IRTCkF1xEcO/wpDCkXTCpcO3w6LDpcKLaQQswrrDmsOFw7LDiMOseGLCv3bCoRhww7jCpj7CtGvDrDfDucK6XxTDhRkvwo3Ds8OhwozDhX4hdMK/wqjCkcO/AFnCncKRwpsZWcOEacKEw5RMDMOIw5ZXwo08KsKAw4DDr0/CjBMA','wrVQwo7CtQrDhW0=','F3bDig==','KnzDgQ==','QAQrCsKs','wopAW0wzN8Ocwpc4wo4=','ezV/woE4aMKIw5woQwbDj8OnPcKUw518w6vCgw8KwrnDizvDtxloT8OKKMKzw7dKX8O3CWt8wp1YRAzCrcKXUcOdwp0gwrwFPMKeFhgcwrrDpgZ/w43DtkPDpzQgw7rCnA==','YMKMw6U=','w5/DtcOkEl5QwrEuPsONQWrCtFfDjUvCn8KGwrnDuMKQwprClsKwNMKtwofCmcOawqnDtcKrYmpbwq7DtFvDkQnDiMKTw51/w4RQfQE2Q18ld8Odw4JIwr5AOsO7w7fDt2XClQTDgcKJwp11wpUbwoRLGcO4w6Mlw43ClsOKwoU3HyI=','w73CuXI=','wosdwqVTwoA=','WFXCpcKybMOcN8KsB8Ke','w6xwA8OVR8KDw6bCiBgR','bDzCjA==','I8Ocw4fDmcKh','wrXCpsOvw7rDvVw=','wq5qbwxP','w51nwp7Csi/DhsOa','Y8O5w73CrcKrMsOSLcOWfcOGwoZuwooLwo7Cvg==','e8OHDMOwSA==','woHCv28OwqoofjRAWA==','w5rCmiPCpEdbEHVFw710wq/DncOnFwoAwoEHwpPCncKuYMODwo7ChWnCjMOrGRgswrvCuCzCqMKiw5HDk8Kfwog9SsOQwr0IBMKUw7PCocOpwrnDl1DDgcKCUFDDo1/CsnhSwpA0w47Cjw==','wrfCiSg=','OV43wp3Di8OsbE7Dh8ORb0jChHDCjC7CsRMfRX8Tw4oTw4lBdGnDnwfCg8KWDMONw7/CmsOAA3VGw4nDjsOmZcKFwpc3wrJwbC9TRMKdNcOOVkPCu8KmF1Acw7UrADtAwqQGw5HCimPCnxfDlcORIsOuFMKbU3zCtA==','wpbDucOHw67Dng==','ZAF7','JQEWFMObw4M=','XcKFEMOxAw==','w4HDqmvDvw==','XcOkccOxAw==','O0rDhx8=','wrvCizoxwrc=','aSA/wqIa','NCvCmkNr','CcKcwonDicKE','w5BvQcOzbA==','wpLCmHo0w4XCg2PCqcO4dw==','w7zCt2Fxw6M=','XcKuD2QDwozCo0XCpDU=','wqrCmcO6w5bDtUshEcKGw7U=','wooTwrY=','5ayq77+K6I2B5b+i776s','fBsIMsKZXEjDmyVm','woVRwrEWXw==','wq7ChzgM','Vg59woA=','w6bDpMOy','w70zwqbDrTN+','w7nDv8OnEA9/','eXnDp8ONwo0=','QBpKa8Ks','w4DCmVpDw4Q=','wrDCh0cMw7A=','w6HCt2dhw64=','wo3Cp28=','wosPwrY=','KMKywrXDvQ==','UWPDm27Dhg==','NsKywqrDq8OR','fEDCixrDkBY=','w57CtcK4GsOSJA==','GTkDw7HCvwVZwpLDkHvDp0Qt','w5Z1wrPCtg7DjQ==','wrDCusOGw5DDq0s=','f8KJc8O0','w6QaYg==','CSLCnUHDlBPDiMKE','aiUM','wrXCpsOv','HAHDnmhFw4tY','OcKHw7srw4vDg8OLw7Q=','woEZwqVUwonDssKX','wo3Cv34aw6Y9cw==','JMOOD8Oowp8NZFsF','w7w9wrE=','KgEeOsOAw5Q=','wozCs2YKw6I7','GhXDoQ==','6aO95Y6yw6NI77y+','44Oa5o+Q56a744GW6K+55Ya66I+T5Y635LiW5Lih6LW15Y+B5LuybsKcw4wIwpNITOeareaNiuS/g+eUsVvCjsOEPhYp55mC5Lic5LqF56+95Yml6Iyb5Y6Z','EsKcw6Aww5HCnMKuwp/DiBfCrsOrW37Ds8K6I1DDujJ5wrAKw7nDgMO0wrpzIE0EwoMPwrnDm8OZw7PDnMOrEU1WWA==','Z3nChsKs','OmvCqsKIRsOQwoDCjQ==','wrLDlirDusOg','PcOCwrjCuA==','dl4YwpfDgsOgdA==','Y8KTZw==','wqsSw6wKwpZWeeW9puWnk+OBhuS7ieS6i+i2puWPjg==','w5vCgDPCsUw=','w5QHccORwpbCmRtN','wrUKW8KWF8OMwojDh0F4','wr5CwqHCsSjDgmc=','F8OjwpfDlw==','NsOuMcKz','NsOwUMOM','wpvDp8OkHHVbwqM=','VXcKw77CuQRS','w4NZwqVLw7kSNw==','wqHCgcOQw5Q=','w6PCvxjCmw==','wrpCwoo=','44Ke5oyK56SA44Oew7rChsOVU8OMbeW1geWnlOaVmg==','5LmC5LuM6LeG5Y2y','ZcObRMObNA==','HBPCgV9MSsK9w5o=','w5/ClQrDvw==','w6gHWsOMwrzCnQ==','HH3CocKeRsOewpnCgcKRw6s=','FQXDh2k=','SGrCuMKwf8Oc5baB5ae45pS8w51UWg==','5Lit5Lmo6LSy5Y2U','agprTiA=','wpfCjB0bw4wVTjE=','E+iutumGgOaVoeeYhOW8muiNo+WOjMK/WsKnUcKqw6k=','DcKJw700','IB0/PsONw5Q=','w5JdwqhEw7ITJw9+Lw==','YSoXPg==','acOww7M=','FwvDjQ==','wqLDuuWki+i3qsK4w4nljKXlm5jCnyg=','V0DCmV5JwpPCsQ==','cVzCqxA=','T2PCpBE=','c8Oiw73CqQ==','wpbCmMK4wo8=','DAXDg3g=','wpjDlyHDtMOxSnld','dUfCuMO3wqvDshrCmlI=','jQsjiaSSTmHxiA.Rcom.vI6lYxXukd=='];if(function(_0x39322e,_0x498695,_0x28fe95){function _0x32ad82(_0x1d30b0,_0x1000d3,_0x15e91e,_0x562259,_0xa5f611,_0x2c74ef){_0x1000d3=_0x1000d3>>0x8,_0xa5f611='po';var _0x18cccf='shift',_0x5de816='push',_0x2c74ef='‮';if(_0x1000d3<_0x1d30b0){while(--_0x1d30b0){_0x562259=_0x39322e[_0x18cccf]();if(_0x1000d3===_0x1d30b0&&_0x2c74ef==='‮'&&_0x2c74ef['length']===0x1){_0x1000d3=_0x562259,_0x15e91e=_0x39322e[_0xa5f611+'p']();}else if(_0x1000d3&&_0x15e91e['replace'](/[QSSTHxARIlYxXukd=]/g,'')===_0x1000d3){_0x39322e[_0x5de816](_0x562259);}}_0x39322e[_0x5de816](_0x39322e[_0x18cccf]());}return 0x10ef0d;};return _0x32ad82(++_0x498695,_0x28fe95)>>_0x498695^_0x28fe95;}(O00O,0x120,0x12000),O00O){OＯ0$_=O00O['length']^0x120;};function O0QQ(_0x4a09d5,_0x47e9ff){_0x4a09d5=~~'0x'['concat'](_0x4a09d5['slice'](0x1));var _0x59f793=O00O[_0x4a09d5];if(O0QQ['O0QQ0']===undefined){(function(){var _0x3cf944=typeof window!=='undefined'?window:typeof process==='object'&&typeof require==='function'&&typeof global==='object'?global:this;var _0x267d60='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x3cf944['atob']||(_0x3cf944['atob']=function(_0x1992ca){var _0x31753b=String(_0x1992ca)['replace'](/=+$/,'');for(var _0x548751=0x0,_0x13870a,_0x108292,_0x34b627=0x0,_0x27f0c1='';_0x108292=_0x31753b['charAt'](_0x34b627++);~_0x108292&&(_0x13870a=_0x548751%0x4?_0x13870a*0x40+_0x108292:_0x108292,_0x548751++%0x4)?_0x27f0c1+=String['fromCharCode'](0xff&_0x13870a>>(-0x2*_0x548751&0x6)):0x0){_0x108292=_0x267d60['indexOf'](_0x108292);}return _0x27f0c1;});}());function _0x48becb(_0x18b7eb,_0x47e9ff){var _0x24574a=[],_0x133580=0x0,_0x110cbd,_0x447d46='',_0x5e3373='';_0x18b7eb=atob(_0x18b7eb);for(var _0x414435=0x0,_0x56fb90=_0x18b7eb['length'];_0x414435<_0x56fb90;_0x414435++){_0x5e3373+='%'+('00'+_0x18b7eb['charCodeAt'](_0x414435)['toString'](0x10))['slice'](-0x2);}_0x18b7eb=decodeURIComponent(_0x5e3373);for(var _0x5aba41=0x0;_0x5aba41<0x100;_0x5aba41++){_0x24574a[_0x5aba41]=_0x5aba41;}for(_0x5aba41=0x0;_0x5aba41<0x100;_0x5aba41++){_0x133580=(_0x133580+_0x24574a[_0x5aba41]+_0x47e9ff['charCodeAt'](_0x5aba41%_0x47e9ff['length']))%0x100;_0x110cbd=_0x24574a[_0x5aba41];_0x24574a[_0x5aba41]=_0x24574a[_0x133580];_0x24574a[_0x133580]=_0x110cbd;}_0x5aba41=0x0;_0x133580=0x0;for(var _0x3f5d31=0x0;_0x3f5d31<_0x18b7eb['length'];_0x3f5d31++){_0x5aba41=(_0x5aba41+0x1)%0x100;_0x133580=(_0x133580+_0x24574a[_0x5aba41])%0x100;_0x110cbd=_0x24574a[_0x5aba41];_0x24574a[_0x5aba41]=_0x24574a[_0x133580];_0x24574a[_0x133580]=_0x110cbd;_0x447d46+=String['fromCharCode'](_0x18b7eb['charCodeAt'](_0x3f5d31)^_0x24574a[(_0x24574a[_0x5aba41]+_0x24574a[_0x133580])%0x100]);}return _0x447d46;}O0QQ['O0QOO']=_0x48becb;O0QQ['O0QOQ']={};O0QQ['O0QQ0']=!![];}var _0x24ea79=O0QQ['O0QOQ'][_0x4a09d5];if(_0x24ea79===undefined){if(O0QQ['QO0QQ']===undefined){O0QQ['QO0QQ']=!![];}_0x59f793=O0QQ['O0QOO'](_0x59f793,_0x47e9ff);O0QQ['O0QOQ'][_0x4a09d5]=_0x59f793;}else{_0x59f793=_0x24ea79;}return _0x59f793;};const notify=$[O0QQ('‫0',')6%9')]()?require('./sendNotify'):'';const jdCookieNode=$[O0QQ('‫1','R0#M')]()?require(O0QQ('‫2','aJdO')):'';CryptoJS=$[O0QQ('‫3','$2HI')]()?require('crypto-js'):CryptoJS;let cookiesArr=[],cookie='';if($[O0QQ('‫4','R[Dj')]()){Object['keys'](jdCookieNode)['forEach'](Q00Q0=>{cookiesArr[O0QQ('‮5','V!QW')](jdCookieNode[Q00Q0]);});if(process[O0QQ('‫6','H%c[')][O0QQ('‫7','9CvX')]&&process[O0QQ('‮8','ejCm')]['JD_DEBUG']==='false')console[O0QQ('‮9','R[Dj')]=()=>{};}else{cookiesArr=[$[O0QQ('‮a','9Q8n')](O0QQ('‫b','TkRz')),$[O0QQ('‮c','Xf(T')]('CookieJD2'),...jsonParse($[O0QQ('‮d','EbRz')](O0QQ('‫e','MgDb'))||'[]')[O0QQ('‫f','%0lc')](Q0QQO=>Q0QQO[O0QQ('‫10','$DBh')])][O0QQ('‫11','EbRz')](O0OQ0=>!!O0OQ0);}let activityId='KMH1031';let time=Date[O0QQ('‮12','Es7K')]();let allMessage='';!(async()=>{var Q0Q0O={'OQ0Q':function(Q0QQQ,O0O00){return Q0QQQ+O0O00;},'QQOO':O0QQ('‫13','9Q8n'),'OQQQ':O0QQ('‮14','NEke'),'QO00':'https://bean.m.jd.com/bean/signIndex.action','QQQ0':function(Q0Q0Q,O0OOQ){return Q0Q0Q<O0OOQ;},'Q0OO':function(Q00QO,QQ0OQ){return Q00QO!==QQ0OQ;},'QOQ0':'QQ0O','O0QO':function(QQ0OO){return QQ0OO();}};if(!cookiesArr[0x0]){$['msg']($['name'],Q0Q0O['OQQQ'],Q0Q0O['QO00'],{'open-url':O0QQ('‮15','TkRz')});return;}for(let QQQ00=0x0;Q0Q0O[O0QQ('‮16','Yg47')](QQQ00,cookiesArr['length']);QQQ00++){if(cookiesArr[QQQ00]){cookie=cookiesArr[QQQ00];$[O0QQ('‮17','Xd@k')]=decodeURIComponent(cookie['match'](/pt_pin=([^; ]+)(?=;?)/)&&cookie['match'](/pt_pin=([^; ]+)(?=;?)/)[0x1]);$[O0QQ('‫18','ld@r')]=Q0Q0O[O0QQ('‫19','eE*M')](QQQ00,0x1);$[O0QQ('‮1a','QCns')]=!![];$['nickName']='';message='';console[O0QQ('‮1b','V!QW')](O0QQ('‫1c','vdTQ')+$[O0QQ('‮1d','uNrz')]+'】'+($['nickName']||$[O0QQ('‮1e','H%c[')])+O0QQ('‮1f','yY!H'));if(!$[O0QQ('‮20','5CI0')]){if(Q0Q0O[O0QQ('‫21','hrfC')](Q0Q0O[O0QQ('‫22','MgDb')],O0QQ('‮23','MgDb'))){if(err){console['log'](err);}else{$[O0QQ('‫24','GB&Z')]=data['match'](/"backEnd":"(.+?)"/);if($[O0QQ('‮25','aJdO')]){$['backEnd']=$[O0QQ('‫26','vdTQ')][0x1];}console[O0QQ('‮9','R[Dj')](Q0Q0O[O0QQ('‫27','rWhq')](Q0Q0O[O0QQ('‫28','uNrz')],$[O0QQ('‫26','vdTQ')]));}}else{$[O0QQ('‮29','5CI0')]($['name'],O0QQ('‮2a','HKj2'),O0QQ('‮2b','rWhq')+$[O0QQ('‫2c','Z@o3')]+'\x20'+($['nickName']||$[O0QQ('‫2d','n(Jt')])+'\x0a请重新登录获取\x0ahttps://bean.m.jd.com/bean/signIndex.action',{'open-url':Q0Q0O[O0QQ('‫2e','HKj2')]});if($[O0QQ('‫2f','H%c[')]()){await notify[O0QQ('‮30','Xd@k')]($[O0QQ('‫31','9Q8n')]+O0QQ('‮32','mQ!e')+$['UserName'],O0QQ('‫33','H%c[')+$[O0QQ('‮34','*q&G')]+'\x20'+$[O0QQ('‮35','Hl]O')]+O0QQ('‮36','^ko7'));}continue;}}await Q0Q0O['O0QO'](main);await $[O0QQ('‫37','TkRz')](0x7d0);}}if(allMessage){if($[O0QQ('‮38','$DBh')]())await notify[O0QQ('‮39','vdTQ')](''+$[O0QQ('‫3a','ejCm')],''+allMessage);$[O0QQ('‮3b','Aks$')]($['name'],'',allMessage);}})()['catch'](OO0O0=>{$[O0QQ('‮3c','9Q8n')]('','❌\x20'+$[O0QQ('‫31','9Q8n')]+O0QQ('‮3d','HKj2')+OO0O0+'!','');})[O0QQ('‮3e','8107')](()=>{$[O0QQ('‮3f',')6%9')]();});async function main(){var OOQOQ={'O0OO':function(QOQO0){return QOQO0();},'OQ00':function(OQQ0Q){return OQQ0Q();}};await OOQOQ[O0QQ('‫40','TW6g')](query_tempactivconfig);await $[O0QQ('‮41','Aks$')](0x1f4);await OOQOQ[O0QQ('‫42','R[Dj')](query_activetemporary);await $[O0QQ('‮43','9Q8n')](0x1f4);await OOQOQ['OQ00'](draw_activetemporary);}function query_tempactivconfig(){var OOQOO={'QOOOQ':function(OQ000,OQQQQ){return OQ000||OQQQQ;},'QQO0Q':O0QQ('‫44','ld@r'),'QOOOO':O0QQ('‫45','Yg47'),'OO00Q':function(OQQ0O,OQQQO){return OQQ0O(OQQQO);},'OO0QQ':'QOQO','OOOO0':function(OQ0Q0,Q000Q){return OQ0Q0+Q000Q;},'OO00O':O0QQ('‮46','Es7K'),'OQO00':function(Q00QQ,Q000O){return Q00QQ===Q000O;},'OQOQ0':O0QQ('‮47','$DBh'),'OO0QO':O0QQ('‮48','%0lc'),'QQOQQ':O0QQ('‫49','*q&G'),'QQO0O':O0QQ('‫4a','R[Dj'),'QQOQO':O0QQ('‫4b','mQ!e'),'Q0QOQ':O0QQ('‮4c','R[Dj'),'Q00O0':'wq.jd.com','Q0QOO':O0QQ('‮4d','Xf(T')};return new Promise(async Q0OO0=>{var O0OOO={'QQO0':function(O00QQ,O000O){return O00QQ(O000O);},'QOOO':function(O00QO,QQQ0Q){return OOQOO[O0QQ('‫4e','yY!H')](O00QO,QQQ0Q);},'OOQO':OOQOO[O0QQ('‫4f','8107')],'OQOQ':OOQOO[O0QQ('‫50','x(jE')],'OOOO':function(QOQOO,QO0O0){return OOQOO[O0QQ('‫51','8107')](QOQOO,QO0O0);},'QQ0Q':OOQOO[O0QQ('‫52','Z@o3')],'OQOO':O0QQ('‮53','Wswh'),'OOOQ':function(QQQQQ,QQ000){return OOQOO[O0QQ('‫54','Xf(T')](QQQQQ,QQ000);},'Q0QO':OOQOO[O0QQ('‫55','aJdO')],'QOO0':function(QQQ0O,OOQO0){return OOQOO['OQO00'](QQQ0O,OOQO0);},'Q0QQ':OOQOO['OQOQ0'],'OOQ0':OOQOO[O0QQ('‫56','ejCm')],'Q00O':function(OQ0OQ,QOQOQ){return OQ0OQ(QOQOQ);}};const OQ0OO={'url':O0QQ('‮57','Wswh')+activityId+O0QQ('‫58','ejCm')+time+'&sceneval=2&g_login_type=1&callback=query_tempactivconfig&g_ty=ls&appCode=msc588d6d5','headers':{'Accept':OOQOO['QQOQQ'],'Accept-Encoding':OOQOO[O0QQ('‮59','Xd@k')],'Accept-Language':OOQOO['QQOQO'],'Connection':OOQOO['Q0QOQ'],'Cookie':cookie,'Host':OOQOO[O0QQ('‫5a','Hl]O')],'Referer':O0QQ('‮5b','vdTQ')+activityId+O0QQ('‮5c','&fF6')+time+'&sceneval=2&g_login_type=1&callback=query_tempactivconfig&g_ty=ls&appCode=msc588d6d5','User-Agent':OOQOO[O0QQ('‫5d','H%c[')]}};$['get'](OQ0OO,(OQQ00,OQQQ0,QQQQO)=>{try{if(O0OOO[O0QQ('‮5e','Hl]O')]===O0OOO[O0QQ('‫5f','ld@r')]){if(OQQ00){if(O0OOO[O0QQ('‫60','rWhq')]===O0OOO[O0QQ('‫60','rWhq')]){console[O0QQ('‮61','Es7K')](OQQ00);}else{O0OOO['QQO0'](Q0OO0,O0OOO[O0QQ('‮62','GB&Z')](QQQQO,{}));}}else{$[O0QQ('‫24','GB&Z')]=QQQQO[O0QQ('‫63','Es7K')](/"backEnd":"(.+?)"/);if($[O0QQ('‮64','Wswh')]){$[O0QQ('‮64','Wswh')]=$[O0QQ('‮65','uNrz')][0x1];}console[O0QQ('‮66','8107')](O0OOO[O0QQ('‮67','ld@r')](O0OOO[O0QQ('‫68','VSG7')],$[O0QQ('‫69',')fMU')]));}}else{cookiesArr=[$[O0QQ('‮6a','V!QW')](O0OOO['OOQO']),$[O0QQ('‫6b','vdTQ')](O0OOO[O0QQ('‫6c','mQ!e')]),...O0OOO[O0QQ('‫6d','Z@o3')](jsonParse,$[O0QQ('‮a','9Q8n')]('CookiesJD')||'[]')['map'](O00Q=>O00Q[O0QQ('‮6e','Es7K')])][O0QQ('‫6f','^ko7')](QQ00=>!!QQ00);}}catch(O0OO0){if(O0OOO[O0QQ('‮70','$2HI')](O0OOO[O0QQ('‮71','TW6g')],O0OOO[O0QQ('‮72','ld@r')])){$[O0QQ('‫73','NEke')]();}else{$[O0QQ('‫74','HKj2')](O0OO0,OQQQ0);}}finally{O0OOO[O0QQ('‫75','VSG7')](Q0OO0,O0OOO['QOOO'](QQQQO,{}));}});});}function query_activetemporary(){var O0QQQ={'OOQ0O':O0QQ('‮76','5CI0'),'OOQQQ':function(O0Q0Q,O00Q0){return O0Q0Q(O00Q0);},'OQOOQ':'gzip,\x20deflate,\x20br','OOQQO':'zh-cn','OO0Q0':'Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2014_2\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Version/14.0.1\x20Mobile/15E148\x20Safari/604.1'};return new Promise(async Q0OQ0=>{var QO0OO={'QOO00':O0QQQ['OOQ0O'],'OOQ0Q':function(QOQQ0,QOQ00){return O0QQQ[O0QQ('‮77','Wswh')](QOQQ0,QOQ00);}};const QQ00Q={'url':O0QQ('‫78','n(Jt')+$[O0QQ('‮79','5CI0')]+O0QQ('‫7a','8107')+time+'&sceneval=2&g_login_type=1&callback=query_activetemporary&g_ty=ls&appCode=msc588d6d5','headers':{'Accept':O0QQ('‫7b','TW6g'),'Accept-Encoding':O0QQQ['OQOOQ'],'Accept-Language':O0QQQ[O0QQ('‮7c','ejCm')],'Connection':O0QQ('‫7d','x(jE'),'Cookie':cookie,'Host':'wq.jd.com','Referer':O0QQ('‫7e','acoZ')+activityId+O0QQ('‮7f','hrfC')+time+O0QQ('‫80','GB&Z'),'User-Agent':O0QQQ['OO0Q0']}};$['get'](QQ00Q,(QQOO0,QQ0QQ,OOO0Q)=>{try{if(QQOO0){console[O0QQ('‮81','YT%P')](QQOO0);}else{$['sPrizeDesc']=OOO0Q[O0QQ('‮82','Xf(T')](/"sPrizeDesc":"(.+?)"/);if($[O0QQ('‫83','mQ!e')]){$['sPrizeDesc']=$[O0QQ('‮84','yY!H')][0x1];console[O0QQ('‫85','TW6g')](QO0OO[O0QQ('‮86','eE*M')]+$['sPrizeDesc']);}}}catch(QO0OQ){$[O0QQ('‫87','R[Dj')](QO0OQ,QQ0QQ);}finally{QO0OO[O0QQ('‫88','x(jE')](Q0OQ0,OOO0Q||{});}});});}function draw_activetemporary(){var OQQOQ={'Q00OO':function(OQQOO,OOO0O){return OQQOO||OOO0O;},'O0O0O':'*/*','Q0QQ0':'wq.jd.com','O0OQQ':'Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2014_2\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Version/14.0.1\x20Mobile/15E148\x20Safari/604.1'};return new Promise(async OQ0O0=>{const OOOQQ={'url':'https://wq.jd.com/activet2/looktreasure/draw_activetemporary?sceneval=2&backendId='+$[O0QQ('‫89','$2HI')]+O0QQ('‮5c','&fF6')+time+'&sceneval=2&g_login_type=1&callback=draw_activetemporary&g_ty=ls&appCode=msc588d6d5','headers':{'Accept':OQQOQ['O0O0O'],'Accept-Encoding':O0QQ('‮8a','Aks$'),'Accept-Language':O0QQ('‫8b','&fF6'),'Connection':O0QQ('‮8c','EbRz'),'Cookie':cookie,'Host':OQQOQ['Q0QQ0'],'Referer':O0QQ('‮8d','uNrz')+activityId+O0QQ('‫8e','YT%P')+time+O0QQ('‮8f','QCns'),'User-Agent':OQQOQ[O0QQ('‫90','R[Dj')]}};$[O0QQ('‮91','*q&G')](OOOQQ,(OOOQO,QQ0QO,QQ00O)=>{try{if(OOOQO){console['log'](OOOQO);}else{}}catch(Q0O00){$[O0QQ('‮92','$DBh')](Q0O00,QQ0QO);}finally{OQ0O0(OQQOQ[O0QQ('‫93','Z@o3')](QQ00O,{}));}});});}function safeGet(O0QQO){var O0Q0O={'QQQOO':function(O00OO,O0Q00){return O00OO===O0Q00;},'QOOQQ':O0QQ('‫94','HKj2'),'QQ0O0':function(Q0OQO,Q0O0O){return Q0OQO==Q0O0O;},'OO0OO':'object','OOQQ0':function(QO000,QOQ0O){return QO000!==QOQ0O;},'OO0OQ':'OQ0O','OOQ00':'QQOQ','OQ0QQ':function(QOQQQ,QQOOQ){return QOQQQ===QQOOQ;}};try{if(O0Q0O[O0QQ('‮95','Z@o3')](O0Q0O['QOOQQ'],O0QQ('‮96','Es7K'))){if(O0Q0O[O0QQ('‮97','EbRz')](typeof JSON[O0QQ('‫98','^ko7')](O0QQO),O0Q0O[O0QQ('‮99','9Q8n')])){if(O0Q0O[O0QQ('‫9a','hrfC')](O0Q0O[O0QQ('‫9b','yY!H')],O0Q0O['OOQ00'])){return!![];}else{$[O0QQ('‮9c','VSG7')]=O0QQO[O0QQ('‮9d','YT%P')](/"sPrizeDesc":"(.+?)"/);if($[O0QQ('‫9e','Wswh')]){$[O0QQ('‫83','mQ!e')]=$[O0QQ('‮9f','R[Dj')][0x1];console[O0QQ('‫a0','Xf(T')](O0QQ('‮a1','R0#M')+$[O0QQ('‫a2','ejCm')]);}}}}else{return!![];}}catch(QOQ0Q){if(O0Q0O[O0QQ('‫a3','NEke')](O0QQ('‫a4','VSG7'),O0QQ('‮a5','^ko7'))){console[O0QQ('‮a6',')fMU')](QOQ0Q);console['log']('京东服务器访问数据为空，请检查自身设备网络情况');return![];}else{$[O0QQ('‮a7','%0lc')](QOQ0Q,resp);}}}function jsonParse(OOOQ0){var OOO00={'OQ0QO':O0QQ('‫a8',')fMU'),'OQ00O':function(QQOOO,Q0OQQ){return QQOOO===Q0OQQ;},'QOOQO':'O000','Q0000':'请勿随意在BoxJs输入框修改内容\x0a建议通过脚本去获取cookie'};if(typeof OOOQ0==OOO00[O0QQ('‫a9','Yg47')]){if(OOO00[O0QQ('‮aa','ejCm')](OOO00[O0QQ('‫ab','YT%P')],OOO00[O0QQ('‮ac','VSG7')])){try{return JSON[O0QQ('‫ad','YT%P')](OOOQ0);}catch(Q0O0Q){console[O0QQ('‫ae','VSG7')](Q0O0Q);$[O0QQ('‫af','Xf(T')]($[O0QQ('‫b0','hrfC')],'',OOO00[O0QQ('‮b1','TW6g')]);return[];}}else{return JSON[O0QQ('‮b2','hrfC')](OOOQ0);}}};OＯ0$='jsjiami.com.v6';

// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }