/*
粉丝福利一次性
cron:29 15,17 * * *
============Quantumultx===============
[task_local]
粉丝福利一次性
29 15,17 * * * jd_fansjdycx.js, tag=粉丝福利一次性, enabled=true
 */

const $ = new Env('粉丝福利一次性');
var OＯ0$='jsjiami.com.v6',OＯ0$_=['‮OＯ0$'],O00O=[OＯ0$,'f8Kuw63ChMKW','NcKhXx3Dpg==','V8KTY8KrGg==','C8K/wpbCucOc','wp1FPw==','w41pwrRqVSbCm8KAIA==','w7BVwrTDtw==','ZMKvw7bDgOism+azsuWnjei0jO+8h+iunOaimeadk+e/rui0j+mGr+isjA==','woghw6sqOg==','wrJQw5hUwo4=','DS8JERk=','wpvCuyhYJ8Oew5Y=','aQnCuMKpw7DDiA==','w4vCljjCllg=','wrHDhiYoIcKhwog=','J01AaHY=','KyAswr7Dkg==','wp9DO3AtVMOfEQ==','wrQ+wrvCvsKH','wp9DO3ANVMOfEQ==','w4NxPcKlCCbCrSM=','wqvCjMOO','aR1WFi40WDHCmEQ=','w6FSUU7Dj2dNw4ZnfA==','djbCrcKFw7jDn2vDhV1R','QhXCsA==','6I+N5b2577yU','X8K/FlvDp8OfYMKKw7xc','KsK2w6EecMO+w5dS','wqnCuMOZdsK3OcKReg==','E05oERk=','KcKLw60p','wpDCpMOb','wpFawozDjA==','YcKww63ChMO3','XB/Co3rCuzlW','QBPCtHLCmjxewrY=','BcOVUcKidQ==','wqnDgcKTa8O0wq0Mbg==','w4M+DxvDi3PChBg=','w4JUwpDDixo=','GR8aXEQN','IMOTWA==','KMKww6U=','5LiT5Lmb5p6W5YiJ5Zi96K+H6ZSQ5paN5o+M5Lqc56if77yh6K+Q5qOZ5p256ISX6LiL6K6t5aWM576f57u55oCz5Ya8','w5XDqTjClg==','w4JUwpDDiw==','KcKLwpI3','6K6/5YuM6Zux5oSu5Z24KREfMVzova7lh5rmoo7kvarmlYflh7blrKg+5buT6K+96YKJ6L6z6Ien5p2J5Y6Z6I2X5Y63EMKtw7bDhTU1','fzXDp1bCmw==','wojDlcO0wpsh','wpLDsmJ7Hw==','w47Ci1s=','awfCssKJ','YcKwwpLChMKW','wrAbwqrDt8OrE2A/ER3DtcOT','wpvCuypYJMOS','Hw4+VkMc','P8OhecOh','wpdFKl4CVsOa','wphvw78=','wo3Cp8O2a8OYP0XDhA==','HcOVw5Q=','w6nCvGNDwqnDtMKBUg==','S8KKEFbDvMOORQ==','w5UiBQLDrHfCozkY','V8KEwqnCr8OHw5Nu','woDDjD0gJ8Kgwp7CokM=','XcKAwq0=','wpgAwoXDpcK/Uw==','LloSVTUZ','wpMbwp7DvsKlDC9OUsKAbUkGwrojR8Oydms/eyjCrMOQwrgPwrHDicOVworDgjAoJ8OMMsO8V8KIwrkfZiw=','XMKKBcKE','wpY/w6s0','w7UTXQ==','w71nLgE=','44Go5o2r56aY44G36K695Yej6Iyi5YyC5LqB5Lq46Laa5Y+55Lm8acOreQULwqvCs+eYrOaMlOS+jOeWp8OIw5srw5pwwqDnm5jkupHku5Pnr67liIzojZ/ljZY=','MWlEwqw=','YcKww63Cmg==','OSw/dg==','w5lNF8KG','wqfCuwFFDsOWw5XCuQ==','wpLCkwME','w7Amw58Ow6k=','IsK4ScOwwqs=','w6QKwrvDoS0=','FcKhw6nCuQ==','GBQTUmkYwqfDjg==','XnfCmcOZwoh3wonlvZnlpIvjg4Pkur/kuKnot63ljY0=','wrDDqsKgw44I','ecKcAUDDk8ObScKK','w5FFw4DCpMO8HCpLGsOv','J2LDgMKV','w4vCllnDtw==','aBXCuA==','MMKswpVsbQ==','wpbCtMKLwps=','wpZIwq/DhsKeDg==','w4lQCkU=','CMKTw4FG','YcORw63Duw==','woxewo/DjcK0BMO0w53CtsKu','FsOaw48D','FRIfUk4c5bS45aaa5pWQwotMwqw=','ZcKSwrjCucOow4ZiYA==','LcKxw6YQRg==','w7vor53phpXmlqvnmJjlvaDojIXljqLDoMKfw5tpwqzClQ==','FTxyw68=','wqEfw4g+CsKYZg==','P8KsTsO7','w7FSwolM','BcKdYsOXwoZMwo7Cug==','w7Eow4w=','w6omw4IZ','w7ETdGVSw4M=','w7txPw==','wqnCgsOESg==','GcKPejHDnw==','w7oiDQ==','VjDlpK3ot4rCokTljZrlm7s7Sg==','wovCqsOVcA==','fcKgK33Dkg==','DU4JEQ==','wrJswoLCiw==','w7Etw7Yz','asK/XMK7w5zDsQAVQGbCtwMrSSwSNw==','wr3DgMOdY8OU','PzjDlsKDwo88w48wwrbCtg==','wpLCkwMEHw==','VFbDr8KjwrI=','wo10w7oM','fcOfNX3Dkg==','w4wWw7oiwrE=','wqxOw4Y1w7E=','EsKaeiLDhMKMw7xqw45Lw7DCpsOyw4TCr8OPw4PDkcKPw5YMw6LCvsK3eBTDugPDmsOew7oyP8KMIHwxw7PCrGvDn8KMw6w/wp/CpCg4NMKWwpkDwrR3WsKbIMOzw5XCsMKIwqYIQX1gVMO3dBcRw4FKJ8KjfxjDvsKDw5UUw5HCgUhRAcOjwpjDmMOuw53DpF8bwohKDyLCq8KVw5xmJ8Ofwp1aw5XDlsOHw7gpQXjCr8KGecOVwrzDth/DhsKxDMKBwqnCiyXCmXLCpcKsMG/DhcOow6jDjgJ8wqTCosOx','wpbCrMOmH8Kt','wrAEMA==','FsOywqA5','Fn97','wqsfw50=','5Lu45LqY5pyN5Yiz5Zit6K646ZeR5pSP5o+e5LuE56mI77236K2j5qO75p+k6IS96Lmb6KyC5aeu572x57uj5oKa5YS+','C8KOw40kDg==','w5xJczVI','w7YJWWF4w4chbQ==','BFzDqMKfw6oU','BQzDvMKiw7M=','KcOqw61WBQ==','NcKhXwM=','fsKrKg==','FTxuw6zDvBDDrgvCl1c=','woofw4ASB8KXb8KmLVZvUsOxPsO/WU96CF7CjsOkJsKbwrjDl8KuY8OdwoTDo0Ebw4YzwrEuw6hIDDPCh8O6w5lpasKYYsKue3g/w6nCl37DjAXCtSLDgA3Cg1UFwr1Ew4XDvMO3LMKaagDClhkrwp87w7fCvMOqKsO8EWDCk8Kqwpt1EcOUwoQVAcK6PG7Cn2AGwobDhVfDosOUdAzDuQnCqcO7woQ0AcOPfXwKw63CgTDCl8OFFsKCXChJRHPDngspS8OowrI2','w5dQdTp5','w6cvwoYOw68=','wrRfwqXDn8KH','J00hCRc=','w5l9JVnDlA==','BcOVUcOdFA==','w5kCWjjCtQ==','w5cvazp5','w7FSwpdSag==','wqvDh8KXRcOIwr4=','GQNObgE=','wpLCk2IEAQ==','w6JYwrkm','OcOUw79D','KcOqw60p','w5dhwqQUGQ==','L0nDtQ==','wq3Du8KMVcOJ','CMOywqBYWg==','wq7DtcOqw4EUC3PDvMKO','wr8VMMO/NcOMw5JHw4ItdsKRK8OQYkFKwo5nwrzCg8Olw7slNMOpS8OMDSosc8Ocw7k3U8O5CHrDnHvCvSTDn0fCkE4TwofDtcOow4ldKSfCug7DlSpwXMKOdcO4RcKLHTLDr8KGwpwywoTDscObVcO+wq0uw7fDvWMAwr/CrsK2DsK2QWzCnnbCvCFRw4/Dni/DkxkTw75lwpHCosKTwoQOwo1gVlE5UsK+Z8OmwqrDny0ROsOcw71sfgrCj8OaaVLCkcOrwqU0OnHDpUfDtw==','w5Aow5EEw615wo0pHH3DgEc0GMOjw7fCpcOVw4lpN8K6w7nCtmLCqsOfdSTDq8O5w4g1woXDlXRhQ0MPwrvCpinDuMOtNzQBVE0aVH9zLg/Ds8K3wrfDqcO+f8KKIcOFVFzDpV3Dq00+XcOvwplANxrCrxPCvWTCs8O+w4gmCnUOW3TCnDzCn8K3ESLCnAHDmxAwLnXCqcO0UsODRQDDjcKeBMOfOR7CmCfCulRqwo5Ow6k1wrJ2KMKMw545PcOyw5jCgsK2wrE=','wrTCnUs=','44GE5o2U56S644KD6K6y5YWP6I6I5Y6p5Lic5Lui6LSU5Y6M5LqUWG7CuMKbw5XCjCrnm4vmj7rkv7TnlIDDmQnCmAULw7bnmb3kuonkuqPnrK3liYroj7flj5U=','wojCrMKZYMOM','wrPChMOtNMOJ','wrQgwrvCvsOm','Y8K+VALDjA==','NcK/Xx0=','FHFxwoo=','HcOtbsOPwr8=','w4NNbHbDpA==','w6UQwqvDtCYiJAIIwrXChS4YZ8OeFMOpSUPDjhzCvEXDncOhwo4lwpRxdcKawrVywqgMGV43wp7Cp8K3wr5z','wrQgw4gSEcKeSsOsaxs=','KsKSwoNgbxbDrgXDjkI=','DS8XbmY=','wog/wpjDp8KsU0QEQ8KG','KMKww6UwTMOt','IMOTWMOFwoLDkQ==','AMKIDcOCwow=','w49ow7oS','woghw6tL','AMKIbMOC','woLCtw9M','BQzDosOD','wqbDmMKAbMOTwq8Af8KHbsOCwqINw4Etw5rDgnRkKEodw5PClMKZQU7CtAsaLsKh','w4x5w7kbHsO0woMOFETDgH/DtsOcw6Ulw7vCvEfDi2TDvcKZwrIBw54uwpZ1EmcmDQ==','w7lOwrDDosKpV0o1AxjDssOeH8OCwpxraA==','I8Kqw5xqew==','HRgVSQoYwqbDgm7Djg==','Rg7Co2nCp2ccw7zDsMKXw7XDpxXCuxFoFsKPw4wqawzCjlvDj8Ovw4guIcKOD8KPSRLDpsKrwqTDnQ5fOsKAaEA/w4PCsSHCug==','wrTCiV3DtUxQNS3CmBTCnsKvwrU=','w5DDol3Dpw==','wq0Uw5sLG8OAZ8OZcBcxF8OibsKBBQ4gVlTCmsKJRcO1w7bDm8KKfMOdwpjDrU5gw7Iow411w40TQDPCj8K+wolnF8OZKcOnZENww5/Dm2XCrTbClRvChTPCtl8hwrpVw4rChcKUOcKFb3HClAxnw54bw5rDiMOqB8KzEUPCqcOhwqZ8dsOwwpcOAsO2S13CmFkcwpvChQ/DvcOQbhPDpxbCrcO7w6EQK8OyXFUJw7zDmBzDjcKUDsOlaipESijCl2lwGcK1w7BiYsKsfGl0w7bCoCzDkcOUwqFHY8KIwpozM8KBPAZSw5jDpg==','JsOhdMOxKmNa','wpbCtMO0wps/','w5kyCcKY','C8OvwrIkcQ==','JywhCXY=','JzIhdmg=','BRLCg8K8wpI=','wpbDucKhMMOr','VDfCjsK9w5M=','wpbDucOAMMKK','wpZAw7U0','wq3CmsOtNMK2','wpMbwp7DvsKlDC9OR8KUIk1Mw7luQsO7d30jc3XDocOcwrcHw7HClcOtwpjDiQs/CcOtH8KhU8KZwoQYby3CqcKZMBIFWMOYfsOSw4/Duw==','wrB0wrDDpsOK','wrBqw5HDpsKr','FcKQw5M6bw==','wpbDlcO0w6Q/','OSwhCRc=','NcK/XwPChw==','w5Y0w5XDhzEd','w5tzwrA=','wqbDjSQ=','wo3Cp8O2esOOOELDnMK2w7XDpsOBw74=','wpbDucKhUcO1','Lwg7w43DoQ==','L2lEw5PCgA==','w45ywrV3','xjsIQAtjWiVaxmi.hcpom.vlSn6ySl=='];if(function(_0xbee44b,_0x2c2dca,_0x4bfe09){function _0x378889(_0x2ddb53,_0x50c0e6,_0x11d548,_0x521d25,_0x53789f,_0x2041da){_0x50c0e6=_0x50c0e6>>0x8,_0x53789f='po';var _0x9ec897='shift',_0x589f94='push',_0x2041da='‮';if(_0x50c0e6<_0x2ddb53){while(--_0x2ddb53){_0x521d25=_0xbee44b[_0x9ec897]();if(_0x50c0e6===_0x2ddb53&&_0x2041da==='‮'&&_0x2041da['length']===0x1){_0x50c0e6=_0x521d25,_0x11d548=_0xbee44b[_0x53789f+'p']();}else if(_0x50c0e6&&_0x11d548['replace'](/[xIQAtWVxhplSnySl=]/g,'')===_0x50c0e6){_0xbee44b[_0x589f94](_0x521d25);}}_0xbee44b[_0x589f94](_0xbee44b[_0x9ec897]());}return 0xffdcf;};return _0x378889(++_0x2c2dca,_0x4bfe09)>>_0x2c2dca^_0x4bfe09;}(O00O,0x11f,0x11f00),O00O){OＯ0$_=O00O['length']^0x11f;};function O0QQ(_0x1c73c3,_0x10110f){_0x1c73c3=~~'0x'['concat'](_0x1c73c3['slice'](0x1));var _0x64b064=O00O[_0x1c73c3];if(O0QQ['O0OOOO']===undefined){(function(){var _0x35a11b=typeof window!=='undefined'?window:typeof process==='object'&&typeof require==='function'&&typeof global==='object'?global:this;var _0x9c5207='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x35a11b['atob']||(_0x35a11b['atob']=function(_0x59d187){var _0x990bc6=String(_0x59d187)['replace'](/=+$/,'');for(var _0x2c5ca0=0x0,_0x562a66,_0x1ad9f3,_0x9716a4=0x0,_0x5d4da7='';_0x1ad9f3=_0x990bc6['charAt'](_0x9716a4++);~_0x1ad9f3&&(_0x562a66=_0x2c5ca0%0x4?_0x562a66*0x40+_0x1ad9f3:_0x1ad9f3,_0x2c5ca0++%0x4)?_0x5d4da7+=String['fromCharCode'](0xff&_0x562a66>>(-0x2*_0x2c5ca0&0x6)):0x0){_0x1ad9f3=_0x9c5207['indexOf'](_0x1ad9f3);}return _0x5d4da7;});}());function _0x3a95b3(_0xb1db09,_0x10110f){var _0xb20df4=[],_0x8f95bf=0x0,_0x5cb956,_0x46c6a6='',_0x2989be='';_0xb1db09=atob(_0xb1db09);for(var _0x354a5f=0x0,_0x165c3c=_0xb1db09['length'];_0x354a5f<_0x165c3c;_0x354a5f++){_0x2989be+='%'+('00'+_0xb1db09['charCodeAt'](_0x354a5f)['toString'](0x10))['slice'](-0x2);}_0xb1db09=decodeURIComponent(_0x2989be);for(var _0x13d065=0x0;_0x13d065<0x100;_0x13d065++){_0xb20df4[_0x13d065]=_0x13d065;}for(_0x13d065=0x0;_0x13d065<0x100;_0x13d065++){_0x8f95bf=(_0x8f95bf+_0xb20df4[_0x13d065]+_0x10110f['charCodeAt'](_0x13d065%_0x10110f['length']))%0x100;_0x5cb956=_0xb20df4[_0x13d065];_0xb20df4[_0x13d065]=_0xb20df4[_0x8f95bf];_0xb20df4[_0x8f95bf]=_0x5cb956;}_0x13d065=0x0;_0x8f95bf=0x0;for(var _0x2b084e=0x0;_0x2b084e<_0xb1db09['length'];_0x2b084e++){_0x13d065=(_0x13d065+0x1)%0x100;_0x8f95bf=(_0x8f95bf+_0xb20df4[_0x13d065])%0x100;_0x5cb956=_0xb20df4[_0x13d065];_0xb20df4[_0x13d065]=_0xb20df4[_0x8f95bf];_0xb20df4[_0x8f95bf]=_0x5cb956;_0x46c6a6+=String['fromCharCode'](_0xb1db09['charCodeAt'](_0x2b084e)^_0xb20df4[(_0xb20df4[_0x13d065]+_0xb20df4[_0x8f95bf])%0x100]);}return _0x46c6a6;}O0QQ['O0OOOQ']=_0x3a95b3;O0QQ['QQ0OOO']={};O0QQ['O0OOOO']=!![];}var _0x92a87f=O0QQ['QQ0OOO'][_0x1c73c3];if(_0x92a87f===undefined){if(O0QQ['Q0OQO0']===undefined){O0QQ['Q0OQO0']=!![];}_0x64b064=O0QQ['O0OOOQ'](_0x64b064,_0x10110f);O0QQ['QQ0OOO'][_0x1c73c3]=_0x64b064;}else{_0x64b064=_0x92a87f;}return _0x64b064;};const notify=$['isNode']()?require(O0QQ('‫0','6ry%')):'';const jdCookieNode=$['isNode']()?require('./jdCookie.js'):'';CryptoJS=$[O0QQ('‮1','EAY3')]()?require('crypto-js'):CryptoJS;let cookiesArr=[],cookie='';if($[O0QQ('‮2','Ue!Q')]()){Object[O0QQ('‫3','80TR')](jdCookieNode)[O0QQ('‮4','&(W#')](QQ0QQ=>{cookiesArr['push'](jdCookieNode[QQ0QQ]);});if(process[O0QQ('‮5','f0KE')][O0QQ('‮6','CyG@')]&&process[O0QQ('‫7','2tc%')][O0QQ('‮8','EonP')]==='false')console['log']=()=>{};}else{cookiesArr=[$['getdata']('CookieJD'),$[O0QQ('‫9','Ex[&')](O0QQ('‫a','z9o(')),...jsonParse($[O0QQ('‮b','Hj&b')](O0QQ('‫c','C[K9'))||'[]')[O0QQ('‫d','Hj&b')](OOO0Q=>OOO0Q[O0QQ('‮e','XqVY')])][O0QQ('‮f','KDit')](QO0OQ=>!!QO0OQ);}let allMessage='';!(async()=>{var OQQOQ={'OOOO':function(OQQOO,OOO0O){return OQQOO===OOO0O;},'O0O0':O0QQ('‫10','XqVY'),'QQ0Q':function(OQ0O0,OOOQQ){return OQ0O0<OOOQQ;},'OQOO':function(OOOQO,QQ0QO){return OOOQO===QQ0QO;},'OOOQ':O0QQ('‫11','0[ow'),'Q0QO':function(QQ00O,Q0O00){return QQ00O(Q0O00);},'QOO0':function(O0QQO,O0Q0O){return O0QQO+O0Q0O;},'Q0QQ':O0QQ('‮12','3[!m'),'OOQ0':'Q0Q0','Q00O':function(O00OO,O0Q00){return O00OO!==O0Q00;}};if(!cookiesArr[0x0]){$[O0QQ('‫13','FPza')]($[O0QQ('‮14','wXSd')],O0QQ('‫15','2tc%'),OQQOQ[O0QQ('‫16','VjeU')],{'open-url':OQQOQ['O0O0']});return;}for(let Q0OQO=0x0;OQQOQ[O0QQ('‫17','Hj&b')](Q0OQO,cookiesArr['length']);Q0OQO++){if(cookiesArr[Q0OQO]){if(OQQOQ[O0QQ('‫18','Ue!Q')](OQQOQ[O0QQ('‮19','ufz7')],'OQ0O')){$['isLogin']=![];return;}else{cookie=cookiesArr[Q0OQO];$[O0QQ('‫1a','EAY3')]=OQQOQ[O0QQ('‮1b','C[K9')](decodeURIComponent,cookie[O0QQ('‮1c','L]K7')](/pt_pin=([^; ]+)(?=;?)/)&&cookie[O0QQ('‫1d','A#^K')](/pt_pin=([^; ]+)(?=;?)/)[0x1]);$[O0QQ('‫1e','u5#S')]=OQQOQ[O0QQ('‫1f','hko4')](Q0OQO,0x1);$['isLogin']=!![];$[O0QQ('‮20','Ue!Q')]='';message='';console['log'](O0QQ('‫21','C4b9')+$[O0QQ('‮22','qKG$')]+'】'+($['nickName']||$[O0QQ('‫23','Ex[&')])+O0QQ('‫24','XqVY'));if(!$['isLogin']){if(OQQOQ[O0QQ('‮25','6ej5')](OQQOQ[O0QQ('‮26','UqKI')],OQQOQ['OOQ0'])){return JSON['parse'](str);}else{$[O0QQ('‮27','10pG')]($['name'],'【提示】cookie已失效','京东账号'+$[O0QQ('‫28','tA1K')]+'\x20'+($['nickName']||$['UserName'])+'\x0a请重新登录获取\x0ahttps://bean.m.jd.com/bean/signIndex.action',{'open-url':OQQOQ[O0QQ('‮29','qKG$')]});if($[O0QQ('‮2a','MKTf')]()){if(OQQOQ[O0QQ('‫2b','FPza')](O0QQ('‮2c','tA1K'),O0QQ('‮2d','Hj&b'))){await notify[O0QQ('‮2e','MKTf')]($[O0QQ('‫2f','2tc%')]+O0QQ('‫30','Ue!Q')+$[O0QQ('‮31','Hj&b')],'京东账号'+$[O0QQ('‫32','EDX%')]+'\x20'+$['UserName']+O0QQ('‫33','&(W#'));}else{Object[O0QQ('‫34','VjeU')](jdCookieNode)[O0QQ('‫35','3[!m')](OQO0=>{cookiesArr[O0QQ('‫36','A#^K')](jdCookieNode[OQO0]);});if(process['env']['JD_DEBUG']&&OQQOQ[O0QQ('‮37','TYk8')](process['env'][O0QQ('‫38','A#^K')],'false'))console[O0QQ('‫39','L]K7')]=()=>{};}}continue;}}await main();await $[O0QQ('‮3a','L]K7')](0x7d0);}}}if(allMessage){if($[O0QQ('‫3b','FPza')]())await notify['sendNotify'](''+$['name'],''+allMessage);$[O0QQ('‮3c','ufz7')]($[O0QQ('‮3d','CyG@')],'',allMessage);}})()[O0QQ('‫3e','Lr2w')](QQOOQ=>{$[O0QQ('‫3f','z9o(')]('','❌\x20'+$['name']+O0QQ('‫40','fLU!')+QQOOQ+'!','');})['finally'](()=>{$['done']();});async function main(){var QO0Q0={'QOOOO':function(QOQQO){return QOQQO();}};await query_tempactivconfig();await $[O0QQ('‮41','s0Ao')](0x1f4);await QO0Q0[O0QQ('‫42','Ex[&')](draw_activetemporary);}function query_tempactivconfig(){var QOQ0Q={'OQO00':O0QQ('‮43','FWN@'),'OQOQ0':function(OQQO0,OOOQ0){return OQQO0===OOOQ0;},'OO0QO':O0QQ('‫44','vphG'),'QQOQQ':function(OOO00,QQOOO){return OOO00(QQOOO);},'QQO0O':function(Q0OQQ,Q0O0Q){return Q0OQQ||Q0O0Q;},'Q0QOQ':'OO0Q','Q00O0':O0QQ('‮45','TYk8'),'Q0QOO':O0QQ('‫46','0[ow'),'QQQO0':O0QQ('‮47','Eud]'),'QOOQ0':O0QQ('‫48','C4b9'),'QOO00':'Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2014_2\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Version/14.0.1\x20Mobile/15E148\x20Safari/604.1'};return new Promise(async O00OQ=>{if(QOQ0Q[O0QQ('‫49','C[K9')]===QOQ0Q[O0QQ('‮4a','10pG')]){cookiesArr[O0QQ('‫4b','f0KE')](jdCookieNode[item]);}else{const O0QOO={'url':'https://wq.jd.com/activet2/looktreasure/fansapp_query?_=1661750805785&sceneval=2&g_login_type=1&callback=queryLibao&g_ty=ls&appCode=msc588d6d5','headers':{'Accept':'*/*','Accept-Encoding':QOQ0Q[O0QQ('‫4c','Ex[&')],'Accept-Language':QOQ0Q[O0QQ('‮4d','L]K7')],'Connection':QOQ0Q[O0QQ('‫4e','f0KE')],'Cookie':cookie,'Host':'wq.jd.com','Referer':O0QQ('‫4f','Lr2w'),'User-Agent':QOQ0Q[O0QQ('‮50','CyG@')]}};$[O0QQ('‮51','*tX3')](O0QOO,(O0QOQ,QO0QQ,QOOO0)=>{try{if(O0QQ('‮52','tA1K')!==QOQ0Q['OQO00']){console[O0QQ('‮53','fLU!')](e);console[O0QQ('‮54','3[!m')](O0QQ('‮55','80TR'));return![];}else{if(O0QOQ){if(QOQ0Q[O0QQ('‮56','EDX%')](QOQ0Q['OO0QO'],QOQ0Q[O0QQ('‫57','wXSd')])){console['log'](O0QOQ);}else{$[O0QQ('‮58','FPza')]=$['UserName'];}}else{}}}catch(QO00O){$[O0QQ('‫59','6ej5')](QO00O,QO0QQ);}finally{QOQ0Q[O0QQ('‮5a','C4b9')](O00OQ,QOQ0Q[O0QQ('‮5b','2tc%')](QOOO0,{}));}});}});}function query_activetemporary(){var OOOOQ={'OOQQO':function(OOOOO,OQO0Q){return OOOOO===OQO0Q;},'OO0Q0':'Q0O0','OQOOO':O0QQ('‮5c','Lr2w'),'Q00OQ':function(OQOQQ,OQO0O){return OQOQQ(OQO0O);},'Q00OO':function(QQO00,OQOQO){return QQO00||OQOQO;},'O0O0O':O0QQ('‮5d','80TR'),'Q0QQ0':O0QQ('‫46','0[ow'),'O0OQQ':O0QQ('‮5e','VjeU'),'Q0Q00':'wq.jd.com','O0O0Q':'https://wq.jd.com/activet2/looktreasure/fansapp_draw?_=1661750809320&sceneval=2&g_login_type=1&callback=openLibao&g_ty=ls&appCode=msc588d6d5','QQQOQ':O0QQ('‮5f','3[!m')};return new Promise(async QQOQ0=>{const Q0QO0={'url':'https://wq.jd.com/activet2/looktreasure/fansapp_draw?_=1661750809320&sceneval=2&g_login_type=1&callback=openLibao&g_ty=ls&appCode=msc588d6d5','headers':{'Accept':OOOOQ[O0QQ('‮60','FPza')],'Accept-Encoding':OOOOQ['Q0QQ0'],'Accept-Language':O0QQ('‫61','L]K7'),'Connection':OOOOQ[O0QQ('‫62','XqVY')],'Cookie':cookie,'Host':OOOOQ[O0QQ('‮63','Ue!Q')],'Referer':OOOOQ[O0QQ('‮64','z9o(')],'User-Agent':OOOOQ[O0QQ('‫65','80TR')]}};$['get'](Q0QO0,(O00O0,O0Q0QO,O0Q00O)=>{var O00OOQ={'OOQ0O':function(QOO00O,QOO0QQ){return QOO00O(QOO0QQ);},'OOQQQ':function(QOOOO0,O00OOO){return QOOOO0||O00OOO;}};try{if(O00O0){if(OOOOQ['OOQQO'](OOOOQ[O0QQ('‫66','z9o(')],OOOOQ['OQOOO'])){O00OOQ[O0QQ('‫67','FPza')](QQOQ0,O00OOQ[O0QQ('‮68','TYk8')](O0Q00O,{}));}else{console['log'](O00O0);}}else{}}catch(QQQO0Q){$[O0QQ('‫69','Eud]')](QQQO0Q,O0Q0QO);}finally{OOOOQ[O0QQ('‫6a','KDit')](QQOQ0,OOOOQ[O0QQ('‫6b','C[K9')](O0Q00O,{}));}});});}function draw_activetemporary(){var QQQOQQ={'OO0OQ':function(QQQO0O,QQQOQO){return QQQO0O===QQQOQO;},'OOQ00':O0QQ('‮6c','Lt4K'),'OQ0QQ':function(O00OQ0,QOOQQQ){return O00OQ0===QOOQQQ;},'OQ00Q':O0QQ('‫6d','6k1n'),'OQOO0':'获得：','OQ0QO':function(QOOQ0Q,O0QQQQ){return QOOQ0Q===O0QQQQ;},'OQ00O':O0QQ('‮6e','2tc%'),'QOOQO':function(O0Q000,O0QQ0O){return O0Q000||O0QQ0O;},'Q00Q0':O0QQ('‮6f','Lt4K'),'Q0QQO':'keep-alive'};return new Promise(async O0QQ0Q=>{const O0QOOO={'url':'https://wq.jd.com/activet2/looktreasure/fansapp_draw?_=1661750809320&sceneval=2&g_login_type=1&callback=openLibao&g_ty=ls&appCode=msc588d6d5','headers':{'Accept':O0QQ('‫70','10pG'),'Accept-Encoding':'gzip,\x20deflate,\x20br','Accept-Language':QQQOQQ[O0QQ('‫71','s0Ao')],'Connection':QQQOQQ[O0QQ('‮72','tA1K')],'Cookie':cookie,'Host':O0QQ('‫73','qKG$'),'Referer':O0QQ('‫74','*tX3'),'User-Agent':O0QQ('‮75','L]K7')}};$[O0QQ('‮76','65v2')](O0QOOO,(QOO0Q0,QOOQQO,QOOQ0O)=>{var QOO000={'QQQOO':O0QQ('‮77','80TR'),'QOOQQ':'https://bean.m.jd.com/bean/signIndex.action'};try{if(QQQOQQ[O0QQ('‮78','CyG@')](QQQOQQ[O0QQ('‮79','s0Ao')],QQQOQQ[O0QQ('‫7a','XqVY')])){if(QOO0Q0){if(QQQOQQ['OQ0QQ'](QQQOQQ[O0QQ('‫7b','Ex[&')],O0QQ('‫7c','Lr2w'))){console['log'](QOO0Q0);}else{$['msg']($[O0QQ('‮7d','fLU!')],QOO000[O0QQ('‮7e','3PCG')],QOO000[O0QQ('‫7f','nIL]')],{'open-url':O0QQ('‫80','u5#S')});return;}}else{$['sPrizeDesc']=QOOQ0O['match'](/"sPrizeDesc":"(.+?)"/);if($[O0QQ('‫81','3[!m')]){$[O0QQ('‮82','tA1K')]=$['sPrizeDesc'][0x1];}console['log'](QQQOQQ[O0QQ('‮83','FWN@')]+$[O0QQ('‮84','XqVY')]);}}else{$[O0QQ('‫85','EDX%')](e,QOOQQO);}}catch(O00O0O){$[O0QQ('‫86','3PCG')](O00O0O,QOOQQO);}finally{if(QQQOQQ[O0QQ('‮87','A#^K')](QQQOQQ['OQ00O'],'QOOQ')){$['done']();}else{O0QQ0Q(QQQOQQ['QOOQO'](QOOQ0O,{}));}}});});}function TotalBean(){var QOO0OQ={'O000O':O0QQ('‫88','Lt4K'),'O00QO':O0QQ('‫89','3[!m'),'QQQ0Q':function(O0Q0QQ,O0Q00Q){return O0Q0QQ===O0Q00Q;},'QOQOO':O0QQ('‮8a','A#^K'),'QO0O0':O0QQ('‮8b','65v2'),'QQQQQ':O0QQ('‮8c','C4b9'),'QQ000':function(O0QOO0,O0QO00){return O0QOO0===O0QO00;},'QQQ0O':function(O0QOQ0){return O0QOQ0();},'OOQO0':O0QQ('‮8d','Eud]'),'OQ0OQ':O0QQ('‫8e','Lt4K'),'QOQOQ':O0QQ('‮8f','6ry%'),'OQ0OO':O0QQ('‫90','tA1K'),'OQQ00':O0QQ('‫91','Ue!Q'),'OQQQ0':O0QQ('‫92','4)SE'),'QQQQO':function(QOOO00,QOQQO0){return QOOO00(QOQQO0);},'QQ0Q0':O0QQ('‮93','UqKI'),'Q0OOO':O0QQ('‮94','UqKI'),'Q0OOQ':O0QQ('‫95','3[!m')};return new Promise(async QO0QOQ=>{var O00OQQ={'OO0O0':function(O00O0Q,QOOOQ0){return O00O0Q===QOOOQ0;},'OOQOQ':O0QQ('‮96','80TR'),'QOQO0':function(QQQOOO,QQQ00Q){return QQQOOO===QQQ00Q;},'OQQ0Q':QOO0OQ[O0QQ('‮97','qKG$')],'OOQOO':O0QQ('‮98','ufz7'),'OQ000':QOO0OQ[O0QQ('‫99','EDX%')],'OQQQQ':function(QO00OO,QO0QQ0){return QOO0OQ[O0QQ('‫9a','Ue!Q')](QO00OO,QO0QQ0);},'OQQ0O':'QOQ0','OQQQO':QOO0OQ[O0QQ('‮9b','Ue!Q')],'OQ0Q0':QOO0OQ[O0QQ('‮9c','C4b9')],'Q000Q':function(QOOOOQ,QO0Q00){return QOO0OQ[O0QQ('‫9d','Eud]')](QOOOOQ,QO0Q00);},'Q00QQ':QOO0OQ[O0QQ('‫9e','10pG')],'Q000O':function(O0QOOQ,QQ0OQO){return QOO0OQ[O0QQ('‫9f','Eud]')](O0QOOQ,QQ0OQO);},'Q0OO0':O0QQ('‫a0','3[!m'),'O0OOO':function(QQ0O0O){return QOO0OQ[O0QQ('‮a1','s0Ao')](QQ0O0O);}};const QQ0OQQ={'url':O0QQ('‮a2','XqVY'),'headers':{'Accept':QOO0OQ[O0QQ('‫a3','MKTf')],'Content-Type':QOO0OQ[O0QQ('‮a4','MKTf')],'Accept-Encoding':QOO0OQ[O0QQ('‫a5','EDX%')],'Accept-Language':QOO0OQ[O0QQ('‫a6','qKG$')],'Connection':QOO0OQ[O0QQ('‫a7','Ue!Q')],'Cookie':cookie,'Referer':QOO0OQ[O0QQ('‫a8','Lr2w')],'User-Agent':$[O0QQ('‫a9','!W6!')]()?process[O0QQ('‫aa','TYk8')]['JD_USER_AGENT']?process[O0QQ('‮ab','C[K9')][O0QQ('‫ac','CyG@')]:QOO0OQ[O0QQ('‫ad','Eud]')](require,QOO0OQ[O0QQ('‫ae','VjeU')])['USER_AGENT']:$['getdata'](QOO0OQ['Q0OOO'])?$['getdata'](QOO0OQ['Q0OOO']):QOO0OQ[O0QQ('‮af','VjeU')]}};$[O0QQ('‮b0','TYk8')](QQ0OQQ,(O0QOQO,QQ0O0Q,O0QOQQ)=>{var O0QO0O={'Q00QO':function(QOOOOO,QO0QO0){return O00OQQ[O0QQ('‮b1','Hj&b')](QOOOOO,QO0QO0);},'QQ0OQ':O00OQQ[O0QQ('‮b2','Lr2w')],'QQ0OO':function(QQQO00,QQQOQ0){return O00OQQ[O0QQ('‫b3',']FA]')](QQQO00,QQQOQ0);},'QQQ00':O00OQQ['OQQ0Q']};try{if(O00OQQ['OOQOO']===O00OQQ[O0QQ('‫b4','hko4')]){$['logErr'](e,QQ0O0Q);}else{if(O0QOQO){console[O0QQ('‮b5','&(W#')](''+JSON[O0QQ('‮b6','TYk8')](O0QOQO));console[O0QQ('‮b5','&(W#')]($[O0QQ('‮b7','6ry%')]+O0QQ('‮b8','hko4'));}else{if(O00OQQ[O0QQ('‫b9','3[!m')](O00OQQ[O0QQ('‫ba','f0KE')],O00OQQ[O0QQ('‫bb','FWN@')])){if(O0QOQQ){O0QOQQ=JSON['parse'](O0QOQQ);if(O0QOQQ['retcode']===0xd){if(O00OQQ['OQQQO']!==O00OQQ['OQ0Q0']){$[O0QQ('‮bc','EAY3')]=![];return;}else{$[O0QQ('‮bd','10pG')](e,QQ0O0Q);}}if(O00OQQ[O0QQ('‮be','UqKI')](O0QOQQ[O0QQ('‮bf','C[K9')],0x0)){if(O00OQQ[O0QQ('‫c0','Ue!Q')]===O00OQQ[O0QQ('‮c1','fLU!')]){$[O0QQ('‮c2','&(W#')]=O0QOQQ[O00OQQ[O0QQ('‫c3','XqVY')]]&&O0QOQQ[O00OQQ['OQQ0Q']][O0QQ('‫c4','&(W#')]||$[O0QQ('‫c5','ufz7')];}else{if(O0QOQO){console[O0QQ('‫c6','CyG@')](O0QOQO);}else{$[O0QQ('‮c7','riDh')]=O0QOQQ[O0QQ('‮1c','L]K7')](/"sPrizeDesc":"(.+?)"/);if($[O0QQ('‮c8','nIL]')]){$[O0QQ('‮c9','10pG')]=$['sPrizeDesc'][0x1];}console[O0QQ('‫ca','4)SE')](O0QQ('‮cb','Lr2w')+$[O0QQ('‫cc','Ex[&')]);}}}else{$[O0QQ('‫cd','EDX%')]=$[O0QQ('‮ce','s0Ao')];}}else{if(O00OQQ[O0QQ('‮cf','FWN@')](O0QQ('‫d0','2tc%'),O00OQQ['Q0OO0'])){console[O0QQ('‫d1','s0Ao')]('京东服务器返回空数据');}else{$['log']('','❌\x20'+$[O0QQ('‫d2','MKTf')]+',\x20失败!\x20原因:\x20'+e+'!','');}}}else{O0QOQQ=JSON['parse'](O0QOQQ);if(O0QO0O['Q00QO'](O0QOQQ[O0QO0O[O0QQ('‫d3','Hj&b')]],0xd)){$['isLogin']=![];return;}if(O0QO0O['QQ0OO'](O0QOQQ[O0QQ('‫d4','4)SE')],0x0)){$[O0QQ('‫d5','4)SE')]=O0QOQQ[O0QO0O[O0QQ('‫d6','80TR')]]&&O0QOQQ[O0QO0O['QQQ00']]['nickname']||$['UserName'];}else{$[O0QQ('‮d7','Eud]')]=$[O0QQ('‮d8','z9o(')];}}}}}catch(QQ00QQ){$[O0QQ('‫86','3PCG')](QQ00QQ,QQ0O0Q);}finally{O00OQQ[O0QQ('‫d9','u5#S')](QO0QOQ);}});});}function safeGet(QQ000Q){try{if(typeof JSON['parse'](QQ000Q)==O0QQ('‫da','Ue!Q')){return!![];}}catch(O00QOO){console[O0QQ('‫db','3PCG')](O00QOO);console[O0QQ('‫dc','EDX%')](O0QQ('‫dd','!W6!'));return![];}}function jsonParse(QQQQQO){var O000O0={'O0Q0Q':function(QQQQ0O){return QQQQ0O();},'Q0OQ0':function(QQQ000,QQQ0Q0){return QQQ000==QQQ0Q0;},'QO0OO':'string','QOQQ0':O0QQ('‫de','UqKI'),'QOQ00':O0QQ('‫df','u5#S'),'QQ00Q':O0QQ('‫e0','2tc%'),'QQOO0':O0QQ('‮e1','KDit')};if(O000O0['Q0OQ0'](typeof QQQQQO,O000O0[O0QQ('‮e2','4)SE')])){if(O000O0['QOQQ0']===O000O0['QOQ00']){return!![];}else{try{if(O000O0[O0QQ('‮e3','qKG$')]===O000O0[O0QQ('‮e4','C[K9')]){return JSON['parse'](QQQQQO);}else{O000O0['O0Q0Q'](resolve);}}catch(QQQQ00){console['log'](QQQQ00);$[O0QQ('‮e5','EonP')]($[O0QQ('‫e6','10pG')],'',O000O0[O0QQ('‫e7','Hj&b')]);return[];}}}};OＯ0$='jsjiami.com.v6';

// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }